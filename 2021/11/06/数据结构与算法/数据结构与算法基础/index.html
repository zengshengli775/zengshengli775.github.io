<!-- build time:Fri Feb 18 2022 14:15:34 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><meta name="referrer" content="no-referrer"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Sakura" href="https://zengshengli775.gitee.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="Sakura" href="https://zengshengli775.gitee.io/atom.xml"><link rel="alternate" type="application/json" title="Sakura" href="https://zengshengli775.gitee.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="数据结构与算法"><link rel="canonical" href="https://zengshengli775.gitee.io/2021/11/06/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/"><title>数据结构与算法基础 - 数据结构与算法 | Sakura = Sakura = 我以为18岁之后是19岁，19岁之后是18岁，20岁永远都不会到来 。</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">数据结构与算法基础</h1><div class="meta"><span class="item" title="创建时间：2021-11-06 00:00:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-11-06T00:00:00+08:00">2021-11-06</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>55k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>50 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Sakura</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="http://www.dmoe.cc/random.php?958264"></li><li class="item" data-background-image="http://www.dmoe.cc/random.php?156384"></li><li class="item" data-background-image="http://www.dmoe.cc/random.php?498913"></li><li class="item" data-background-image="http://www.dmoe.cc/random.php?205801"></li><li class="item" data-background-image="http://www.dmoe.cc/random.php?506335"></li><li class="item" data-background-image="http://www.dmoe.cc/random.php?244741"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="item" rel="index" title="分类于 数据结构与算法"><span itemprop="name">数据结构与算法</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://zengshengli775.gitee.io/2021/11/06/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="lzs"><meta itemprop="description" content="我以为18岁之后是19岁，19岁之后是18岁，20岁永远都不会到来 。, "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Sakura"></span><div class="body md" itemprop="articleBody"><h1 id="1数据结构概念"><a class="anchor" href="#1数据结构概念">#</a> 1. 数据结构概念</h1><h2 id="11数据结构相关概念"><a class="anchor" href="#11数据结构相关概念">#</a> 1.1 数据结构相关概念</h2><p>数据 – 程序的操作对象，用于描述客观事物。</p><p>数据是一个抽象的概念，将其进行分类后得到程序设计语言中的类型。如：int，float，char 等等。</p><p>数据元素：组成数据的基本单位。</p><p>数据项：一个数据元素由若干数据项组成。</p><p>数据对象 – 性质相同的数据元素的集合（比如：数组，链表）。</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 声明一个结构体类型</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">_MyTeacher</span>   <span class="token comment">// 一种数据类型</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">char</span>	name<span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">char</span>	tile<span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span>		age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span>	addr<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">_MyTeacher</span>  t1<span class="token punctuation">;</span> <span class="token comment">// 数据元素</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">_MyTeacher</span> tArray<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 数据对象</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>t1<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>t1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 数据项</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>addr<span class="token punctuation">,</span> <span class="token string">"addr"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 数据项</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>tile<span class="token punctuation">,</span> <span class="token string">"addr"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 数据项</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	t1<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="12算法"><a class="anchor" href="#12算法">#</a> 1.2 算法</h2><p>算法是特定问题求解步骤的描述，在计算机中表现为<strong>指令的有限序列</strong>，算法是独立存在的一种解决问题的方法和思想。</p><h3 id="算法特性"><a class="anchor" href="#算法特性">#</a> 算法特性</h3><p><strong>输入</strong>：算法具有 0 个或多个输入</p><p><strong>输出</strong>：算法至少有 1 个或多个输出</p><p><strong>有穷性</strong>：算法在有限的步骤之后会自动结束而不会无限循环，并且每一个步骤可以在接收的实际内完成</p><p><strong>确定性</strong>：算法中的每一步都有确定的含义，不会出现二义性</p><p><strong>可行性</strong>：算法的每一步都是可行的，也就是说每一步都能够执行有限的次数完成。</p><h4 id="大o表示法"><a class="anchor" href="#大o表示法">#</a> 大 O 表示法</h4><p>常见的时间复杂度</p><table><thead><tr><th>执行次数函数</th><th>阶</th><th>非正式术语</th></tr></thead><tbody><tr><td>12</td><td>O(1)</td><td>常数阶</td></tr><tr><td>2n+3</td><td>O(n)</td><td>线性阶</td></tr><tr><td>3n2+2n+1</td><td>O(n2)</td><td>平方阶</td></tr><tr><td>5log2n+20</td><td>O(logn)</td><td>对数阶</td></tr><tr><td>2n+3nlog2n+19</td><td>O(nlogn)</td><td>nlogn 阶</td></tr><tr><td>6n3+2n2+3n+4</td><td>O(n3)</td><td>立方阶</td></tr><tr><td>2n</td><td>O(2n)</td><td>指数阶</td></tr></tbody></table><p>n 常见的时间复杂度之间的关系</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202111062216738.png" alt="img"></p><p>常用的时间复杂度所耗费的时间从小到大依次是：</p><p><strong>O(1) &lt; O(logn) &lt; O(n) &lt; O(nlogn) &lt; O(n2) &lt; O(n3) &lt; O(2n) &lt; O(n!) &lt; O(nn)</strong></p><h1 id="2线性表"><a class="anchor" href="#2线性表">#</a> 2. 线性表</h1><h2 id="21线性表基本概念"><a class="anchor" href="#21线性表基本概念">#</a> 2.1 线性表基本概念</h2><h3 id="基本概念"><a class="anchor" href="#基本概念">#</a> 基本概念</h3><p><strong>线性表是 **** 零个或者多个数据元素的有限序列</strong>。</p><p><strong>特性:</strong></p><ol><li>数据元素之间是<strong>有顺序的.</strong></li><li>数据元素个数是<strong>有限的.</strong></li><li>数据元素的<strong>类型必须相同.</strong></li></ol><h3 id="数学定义"><a class="anchor" href="#数学定义">#</a> 数学定义</h3><p>线性表是具有相同类型的 n（ ≥ 0）个数据元素的有限序列（a0,a1, a2, …, an）</p><p>ai 是表项，n 是表长度。</p><h3 id="性质"><a class="anchor" href="#性质">#</a> 性质</h3><ul><li><p>a0 为线性表的第一个元素，只有一个后继。</p></li><li><p>an 为线性表的最后一个元素，只有一个前驱。</p></li><li><p>除 a0 和 an 外的其它元素 ai，既有前驱，又有后继。</p></li><li><p>线性表能够逐项访问和顺序存取。</p></li></ul><h3 id="线性表的操作"><a class="anchor" href="#线性表的操作">#</a> 线性表的操作</h3><ul><li><p>创建线性表</p></li><li><p>销毁线性表</p></li><li><p>清空线性表</p></li><li><p>将元素插入线性表</p></li><li><p>将元素从线性表中删除</p></li><li><p>获取线性表中某个位置的元素</p></li><li><p>获取线性表的长度</p></li></ul><h3 id="线性表的抽象数据类型定义"><a class="anchor" href="#线性表的抽象数据类型定义">#</a> 线性表的抽象数据类型定义：</h3><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre>ADT线性表（List）</pre></td></tr><tr><td data-num="2"></td><td><pre>Data</pre></td></tr><tr><td data-num="3"></td><td><pre>线性表的数据对象集合为<span class="token punctuation">&#123;</span> a1<span class="token punctuation">,</span> a2<span class="token punctuation">,</span> ……<span class="token punctuation">,</span> an <span class="token punctuation">&#125;</span>，每个元素的类型均为DataType。其中，除第一个元素a1外，每个元素有且只有一个直接前驱元素，除了最后一个元素an外，每个元素有且只有一个直接后继元素。数据元素之间的关系是一一对应的。</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>Operation（操作）</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 初始化，建立一个空的线性表 L。</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">InitList</span><span class="token punctuation">(</span><span class="token operator">*</span>L<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 若线性表为空，返回 true，否则返回 false</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token function">ListEmpty</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 将线性表清空</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token function">ClearList</span><span class="token punctuation">(</span><span class="token operator">*</span>L<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 将线性表 L 中的第 i 个位置的元素返回给 e</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token function">GetElem</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token operator">*</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 在线性表 L 中的第 i 个位置插入新元素 e</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token function">ListInsert</span><span class="token punctuation">(</span><span class="token operator">*</span>L<span class="token punctuation">,</span> i<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">// 删除线性表 L 中的第 i 个位置元素，并用 e 返回其值</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token function">ListDelete</span><span class="token punctuation">(</span><span class="token operator">*</span>L<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token operator">*</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">// 返回线性表 L 的元素个数</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token function">ListLength</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment">// 销毁线性表</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token function">DestroyList</span><span class="token punctuation">(</span><span class="token operator">*</span>L<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="22线性表的顺序存储"><a class="anchor" href="#22线性表的顺序存储">#</a> 2.2 线性表的顺序存储</h2><p>线性表的顺序存储结构，指的是<strong>用一段地址连续的存储单元依次存储线性表的数据元素</strong>。</p><p>线性表 （a1，a2，……，an）的顺序存储示意图如下：</p><h3 id="image-20211107204709760"><a class="anchor" href="#image-20211107204709760">#</a> <img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202111072047011.png" alt="image-20211107204709760"></h3><h3 id="线性表顺序存储的设计与实现"><a class="anchor" href="#线性表顺序存储的设计与实现">#</a> 线性表顺序存储的设计与实现</h3><p><strong>操作要点:</strong></p><p>插入元素算法</p><ul><li><p>判断线性表是否合法</p></li><li><p>判断插入位置是否合法</p></li><li><p>把最后一个元素到插入位置的元素后移一个位置</p></li><li><p>将新元素插入</p></li><li><p>线性表长度加 1</p></li></ul><p>获取元素操作</p><ul><li><p>判断线性表是否合法</p></li><li><p>判断位置是否合法</p></li><li><p>直接通过数组下标的方式获取元素</p></li></ul><p>删除元素算法</p><ul><li><p>判断线性表是否合法</p></li><li><p>判断删除位置是否合法</p></li><li><p>将元素取出</p></li><li><p>将删除位置后的元素分别向前移动一个位置</p></li><li><p>线性表长度减 1</p></li></ul><p><strong>链表顺序存储插入算法和删除算法:</strong></p><ul><li>元素的插入</li></ul><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202111062227359.png" alt="image-20211106222701287"></p><ul><li>元素的删除</li></ul><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202111062225990.png" alt="img"></p><p><strong>注意:</strong> <strong>链表的容量和链表的长度是两个不同的概念</strong></p><h3 id="优点和缺点"><a class="anchor" href="#优点和缺点">#</a> 优点和缺点</h3><p><strong>优点：</strong></p><ul><li>无需为线性表中的逻辑关系增加额外的空间。</li><li>可以快速的获取表中合法位置的元素。</li></ul><p><strong>缺点：</strong></p><ul><li>插入和删除操作需要移动大量元素。</li><li>当线性表长度变化较大的时候，难以确定存储空间的容量。</li></ul><h3 id="动态数组"><a class="anchor" href="#动态数组">#</a> <strong>动态数组</strong></h3><h4 id="01-动态数组c"><a class="anchor" href="#01-动态数组c">#</a> 01 动态数组.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"DynamicArray.h"</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 初始化动态数组</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	Dynamic_Array<span class="token operator">*</span> myArray <span class="token operator">=</span> <span class="token function">Init_Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  </pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// 打印容量</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"数组容量:%d\n"</span><span class="token punctuation">,</span> <span class="token function">Capacity_Array</span><span class="token punctuation">(</span>myArray<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"数组大小:%d\n"</span><span class="token punctuation">,</span> <span class="token function">Size_Array</span><span class="token punctuation">(</span>myArray<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  </pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">// 插入元素</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token function">PushBack_Array</span><span class="token punctuation">(</span>myArray<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"数组容量:%d\n"</span><span class="token punctuation">,</span> <span class="token function">Capacity_Array</span><span class="token punctuation">(</span>myArray<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"数组大小:%d\n"</span><span class="token punctuation">,</span> <span class="token function">Size_Array</span><span class="token punctuation">(</span>myArray<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  </pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token comment">// 打印</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token function">Print_Array</span><span class="token punctuation">(</span>myArray<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token comment">// 删除</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token function">RemoveByPos_Array</span><span class="token punctuation">(</span>myArray<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token function">RemoveByValue_Array</span><span class="token punctuation">(</span>myArray<span class="token punctuation">,</span><span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>  </pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token comment">// 打印</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token function">Print_Array</span><span class="token punctuation">(</span>myArray<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token comment">// 查找 5 个位置</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token function">Find_Array</span><span class="token punctuation">(</span>myArray<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"5查找到:pos:%d %d\n"</span><span class="token punctuation">,</span> pos<span class="token punctuation">,</span> <span class="token function">At_Array</span><span class="token punctuation">(</span>myArray<span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token comment">// 销毁</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token function">FreeSpace_Array</span><span class="token punctuation">(</span>myArray<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="dynamicarrayc"><a class="anchor" href="#dynamicarrayc">#</a> DynamicArray.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"DynamicArray.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 动态数组的初始化</span></pre></td></tr><tr><td data-num="4"></td><td><pre>Dynamic_Array<span class="token operator">*</span> <span class="token function">Init_Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 申请内存</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	Dynamic_Array<span class="token operator">*</span> myArray <span class="token operator">=</span> <span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Dynamic_Array<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 初始化</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	myArray<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	myArray<span class="token operator">-></span>capacity <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	myArray<span class="token operator">-></span>pAddr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span>myArray<span class="token operator">-></span>capacity<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">return</span> myArray<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 插入</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">void</span> <span class="token function">PushBack_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token comment">// 判断空间是否足够</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token operator">-></span>size <span class="token operator">==</span> arr<span class="token operator">-></span>capacity<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>	</pre></td></tr><tr><td data-num="21"></td><td><pre>		<span class="token comment">// 第一步 申请一块更大的内存空间 新空间是旧空间的 2 倍</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token keyword">int</span><span class="token operator">*</span> newSpace <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> arr<span class="token operator">-></span>capacity <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token comment">// 第二步 拷贝数据到新的空间</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token function">memcpy</span><span class="token punctuation">(</span>newSpace<span class="token punctuation">,</span>arr<span class="token operator">-></span>pAddr<span class="token punctuation">,</span>arr<span class="token operator">-></span>capacity <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token comment">// 第三步 释放旧空间的内存</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		<span class="token function">free</span><span class="token punctuation">(</span>arr<span class="token operator">-></span>pAddr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>		<span class="token comment">// 更新容量</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		arr<span class="token operator">-></span>capacity <span class="token operator">=</span> arr<span class="token operator">-></span>capacity <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		arr<span class="token operator">-></span>pAddr <span class="token operator">=</span> newSpace<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token comment">// 插入新元素</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	arr<span class="token operator">-></span>pAddr<span class="token punctuation">[</span>arr<span class="token operator">-></span>size<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	arr<span class="token operator">-></span>size<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token comment">// 根据位置删除</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token keyword">void</span> <span class="token function">RemoveByPos_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token comment">// 判断位置是否有效</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span>pos <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> pos <span class="token operator">>=</span> arr<span class="token operator">-></span>size<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token comment">// 删除元素</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> pos<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token operator">-></span>size <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>		arr<span class="token operator">-></span>pAddr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token operator">-></span>pAddr<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	arr<span class="token operator">-></span>size<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="51"></td><td><pre></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token comment">// 根据值删除 value 第一次出现的位置</span></pre></td></tr><tr><td data-num="53"></td><td><pre><span class="token keyword">void</span> <span class="token function">RemoveByValue_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	<span class="token comment">// 找到值的位置</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	<span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token function">Find_Array</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	<span class="token comment">// 根据位置删除</span></pre></td></tr><tr><td data-num="60"></td><td><pre>	<span class="token function">RemoveByPos_Array</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="62"></td><td><pre></pre></td></tr><tr><td data-num="63"></td><td><pre><span class="token comment">// 查找</span></pre></td></tr><tr><td data-num="64"></td><td><pre><span class="token keyword">int</span> <span class="token function">Find_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>	<span class="token comment">// 找到值的位置</span></pre></td></tr><tr><td data-num="69"></td><td><pre>	<span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token operator">-></span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token operator">-></span>pAddr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>			pos <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>			<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>	<span class="token keyword">return</span> pos<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="77"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="78"></td><td><pre></pre></td></tr><tr><td data-num="79"></td><td><pre><span class="token comment">// 打印</span></pre></td></tr><tr><td data-num="80"></td><td><pre><span class="token keyword">void</span> <span class="token function">Print_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token operator">-></span>size<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>arr<span class="token operator">-></span>pAddr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="88"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="89"></td><td><pre></pre></td></tr><tr><td data-num="90"></td><td><pre><span class="token comment">// 释放动态数组的内存</span></pre></td></tr><tr><td data-num="91"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="92"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="93"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="94"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="95"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token operator">-></span>pAddr <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>		<span class="token function">free</span><span class="token punctuation">(</span>arr<span class="token operator">-></span>pAddr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="97"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="98"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="99"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="100"></td><td><pre></pre></td></tr><tr><td data-num="101"></td><td><pre><span class="token comment">// 清空数组</span></pre></td></tr><tr><td data-num="102"></td><td><pre><span class="token keyword">void</span> <span class="token function">Clear_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="103"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="104"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="105"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="106"></td><td><pre>	<span class="token comment">//pAddr -> 空间</span></pre></td></tr><tr><td data-num="107"></td><td><pre>	arr<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="108"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="109"></td><td><pre></pre></td></tr><tr><td data-num="110"></td><td><pre><span class="token comment">// 获得动态数组容量</span></pre></td></tr><tr><td data-num="111"></td><td><pre><span class="token keyword">int</span> <span class="token function">Capacity_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="113"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="114"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="115"></td><td><pre>	<span class="token keyword">return</span> arr<span class="token operator">-></span>capacity<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="116"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="117"></td><td><pre></pre></td></tr><tr><td data-num="118"></td><td><pre><span class="token comment">// 获得动态数据当前元素个数</span></pre></td></tr><tr><td data-num="119"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="120"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="121"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="123"></td><td><pre>	<span class="token keyword">return</span> arr<span class="token operator">-></span>size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="124"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="125"></td><td><pre></pre></td></tr><tr><td data-num="126"></td><td><pre><span class="token comment">// 根据位置获得某个位置元素</span></pre></td></tr><tr><td data-num="127"></td><td><pre><span class="token keyword">int</span> <span class="token function">At_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="128"></td><td><pre>	<span class="token keyword">return</span> arr<span class="token operator">-></span>pAddr<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="129"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="dynamicarrayh"><a class="anchor" href="#dynamicarrayh">#</a> DynamicArray.h</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">DYNAMIC_ARRAY_H</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">DYNAMIC_ARRAY_H</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 动态增长内存，策略 将存放数据的内存放到那？堆上</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 动态数组 如果 5 个元素 申请内存 拷贝数据 释放内存 6 插入第七个？ </span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 容量 capacity 表示我的这块内存空间一共可以存放多少元素</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">//size 概念 记录当前数组中具体的元素个数</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 动态数组的结构体定义完了</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">DYNAMICARRAY</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> pAddr<span class="token punctuation">;</span> <span class="token comment">// 存放数据的地址</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">int</span> size<span class="token punctuation">;</span> <span class="token comment">// 当前有多少个元素</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">int</span> capacity<span class="token punctuation">;</span> <span class="token comment">// 容量，我容器当前最大能容纳多少元素</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span>Dynamic_Array<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment">// 写一系列的相关对 DYNAMICARRAY 结构体操作的函数</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">// 初始化</span></pre></td></tr><tr><td data-num="22"></td><td><pre>Dynamic_Array<span class="token operator">*</span> <span class="token function">Init_Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 插入</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">void</span> <span class="token function">PushBack_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">,</span><span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">// 根据位置删除</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">void</span> <span class="token function">RemoveByPos_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">,</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// 根据值删除</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">void</span> <span class="token function">RemoveByValue_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">// 查找</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">int</span> <span class="token function">Find_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token comment">// 打印</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token keyword">void</span> <span class="token function">Print_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token comment">// 释放动态数组的内存</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token comment">// 清空数组</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token keyword">void</span> <span class="token function">Clear_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token comment">// 获得动态数组容量</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token keyword">int</span> <span class="token function">Capacity_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token comment">// 获得动态数据当前元素个数</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token comment">// 根据位置获得某个位置元素</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token keyword">int</span> <span class="token function">At_Array</span><span class="token punctuation">(</span>Dynamic_Array<span class="token operator">*</span> arr<span class="token punctuation">,</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr></table></figure><h2 id="23线性表的链式存储"><a class="anchor" href="#23线性表的链式存储">#</a> 2.3 线性表的链式存储</h2><h3 id="基本概念-2"><a class="anchor" href="#基本概念-2">#</a> 基本概念</h3><h4 id="链式存储定义"><a class="anchor" href="#链式存储定义">#</a> 链式存储定义</h4><p>为了表示每个数据元素与其直接后继元素之间的逻辑关系，每个元素除了存储本身的信息外，还需要存储指示其直接后继的信息。</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112021432912.png" alt="img"></p><h4 id="单链表"><a class="anchor" href="#单链表">#</a> 单链表</h4><p>n 线性表的链式存储结构中，每个节点中只包含一个指针域，这样的链表叫单链表。</p><p>n 通过每个节点的指针域将线性表的数据元素按其逻辑次序链接在一起（如图）。</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112021432922.png" alt="img"></p><h4 id="概念解释"><a class="anchor" href="#概念解释">#</a> 概念解释：</h4><p><strong>n 表头结点</strong></p><p>链表中的第一个结点，包含指向第一个数据元素的指针以及链表自身的一些信息</p><p><strong>n 数据结点</strong></p><p>链表中代表数据元素的结点，包含指向下一个数据元素的指针和数据元素的信息</p><p><strong>n 尾结点</strong></p><p>链表中的最后一个数据结点，其下一元素指针为空，表示无后继。</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112021439921.png" alt="image-20211202143942867"></p><h3 id="设计与实现"><a class="anchor" href="#设计与实现">#</a> 设计与实现</h3><h4 id="插入操作"><a class="anchor" href="#插入操作">#</a> <strong>插入操作</strong></h4><p><strong><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112021434085.png" alt="img"></strong></p><p><strong>node-&gt;next = current-&gt;next;</strong></p><p><strong>current-&gt;next = node;</strong></p><h4 id="删除操作"><a class="anchor" href="#删除操作">#</a> <strong>删除操作</strong></h4><p><strong><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112021434095.png" alt="img"></strong></p><p><strong>current-&gt;next = ret-&gt;next</strong></p><p><strong>free(ret-&gt;next)</strong></p><h3 id="链表技术领域推演能力提高"><a class="anchor" href="#链表技术领域推演能力提高">#</a> 链表技术领域推演 (能力提高)</h3><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112021436727.png" alt="image-20211202143656684"></p><h3 id="单向链表"><a class="anchor" href="#单向链表">#</a> 单向链表</h3><h4 id="02-单向链表c"><a class="anchor" href="#02-单向链表c">#</a> 02 单向链表.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"LinkList.h"</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 自定义数据类型</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">PERSON</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">int</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">int</span> score<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span>Person<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 打印函数</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">void</span> <span class="token function">MyPrint</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	Person<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token operator">*</span><span class="token punctuation">)</span>data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Name:%s Age:%d Score:%d\n"</span><span class="token punctuation">,</span>p<span class="token operator">-></span>name<span class="token punctuation">,</span>p<span class="token operator">-></span>age<span class="token punctuation">,</span>p<span class="token operator">-></span>score<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token comment">// 创建链表</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	LinkList<span class="token operator">*</span> list <span class="token operator">=</span> <span class="token function">Init_LinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token comment">// 创建数据</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	Person p1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"aaa"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	Person p2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"bbb"</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">99</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	Person p3 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"ccc"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">101</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	Person p4 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"ddd"</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">97</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	Person p5 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"eee"</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">59</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token comment">// 数据插入链表</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token function">Insert_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token function">Insert_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token function">Insert_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token function">Insert_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token function">Insert_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token comment">// 打印</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token function">Print_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> MyPrint<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token comment">// 删除 3</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token function">RemoveByPos_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token comment">// 打印</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"---------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token function">Print_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> MyPrint<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token comment">// 返回第一个结点</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-----查找结果------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	 Person<span class="token operator">*</span> ret <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Front_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	 <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Name:%s Age:%d Score:%d\n"</span><span class="token punctuation">,</span> ret<span class="token operator">-></span>name<span class="token punctuation">,</span> ret<span class="token operator">-></span>age<span class="token punctuation">,</span> ret<span class="token operator">-></span>score<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token comment">// 销毁链表</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	<span class="token function">FreeSpace_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="linklistc"><a class="anchor" href="#linklistc">#</a> LinkList.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"LinkList.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 初始化链表</span></pre></td></tr><tr><td data-num="4"></td><td><pre>LinkList<span class="token operator">*</span> <span class="token function">Init_LinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	LinkList<span class="token operator">*</span> list <span class="token operator">=</span> <span class="token punctuation">(</span>LinkList<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkList<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	list<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 头结点 是不保存数据信息</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	list<span class="token operator">-></span>head <span class="token operator">=</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	list<span class="token operator">-></span>head<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	list<span class="token operator">-></span>head<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">return</span> list<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 指定位置插入</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">void</span> <span class="token function">Insert_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token comment">// 友好的处理，pos 越界 </span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> pos <span class="token operator">></span> list<span class="token operator">-></span>size<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		pos <span class="token operator">=</span> list<span class="token operator">-></span>size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token comment">// 创建新的结点</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	LinkNode<span class="token operator">*</span> newnode <span class="token operator">=</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	newnode<span class="token operator">-></span>data <span class="token operator">=</span> data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	newnode<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token comment">// 找结点</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token comment">// 辅助指针变量</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	LinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> list<span class="token operator">-></span>head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pos<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token comment">// 新结点入链表</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	newnode<span class="token operator">-></span>next <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	pCurrent<span class="token operator">-></span>next <span class="token operator">=</span> newnode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	list<span class="token operator">-></span>size<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token comment">// 删除指定位置的值</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token keyword">void</span> <span class="token function">RemoveByPos_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> pos <span class="token operator">>=</span> list<span class="token operator">-></span>size<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token comment">// 查找删除结点的前一个结点</span></pre></td></tr><tr><td data-num="51"></td><td><pre>	LinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> list<span class="token operator">-></span>head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pos<span class="token punctuation">;</span>i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>	<span class="token comment">// 缓存删除的结点</span></pre></td></tr><tr><td data-num="56"></td><td><pre>	LinkNode<span class="token operator">*</span> pDel <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	pCurrent<span class="token operator">-></span>next <span class="token operator">=</span> pDel<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	<span class="token comment">// 释放删除结点的内存</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>pDel<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>	list<span class="token operator">-></span>size<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="62"></td><td><pre></pre></td></tr><tr><td data-num="63"></td><td><pre><span class="token comment">// 获得链表的长度</span></pre></td></tr><tr><td data-num="64"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>	<span class="token keyword">return</span> list<span class="token operator">-></span>size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="67"></td><td><pre></pre></td></tr><tr><td data-num="68"></td><td><pre><span class="token comment">// 查找</span></pre></td></tr><tr><td data-num="69"></td><td><pre><span class="token keyword">int</span> <span class="token function">Find_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>	<span class="token comment">// 遍历查找</span></pre></td></tr><tr><td data-num="77"></td><td><pre>	LinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> list<span class="token operator">-></span>head<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span>pCurrent <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>pCurrent<span class="token operator">-></span>data <span class="token operator">==</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>			<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>		i<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>	<span class="token keyword">return</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="88"></td><td><pre></pre></td></tr><tr><td data-num="89"></td><td><pre><span class="token comment">// 返回第一个结点</span></pre></td></tr><tr><td data-num="90"></td><td><pre><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">Front_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>	<span class="token keyword">return</span> list<span class="token operator">-></span>head<span class="token operator">-></span>next<span class="token operator">-></span>data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="92"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="93"></td><td><pre></pre></td></tr><tr><td data-num="94"></td><td><pre><span class="token comment">// 打印链表结点</span></pre></td></tr><tr><td data-num="95"></td><td><pre><span class="token keyword">void</span> <span class="token function">Print_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span> PRINTLINKNODE print<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="97"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="98"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="99"></td><td><pre>	<span class="token comment">// 辅助指针变量</span></pre></td></tr><tr><td data-num="100"></td><td><pre>	LinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> list<span class="token operator">-></span>head<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="101"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span>pCurrent <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="102"></td><td><pre>		<span class="token function">print</span><span class="token punctuation">(</span>pCurrent<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="103"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="104"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="105"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="106"></td><td><pre></pre></td></tr><tr><td data-num="107"></td><td><pre><span class="token comment">// 释放链表内存</span></pre></td></tr><tr><td data-num="108"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="109"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="110"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="111"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>	<span class="token comment">// 辅助指针变量</span></pre></td></tr><tr><td data-num="113"></td><td><pre>	LinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> list<span class="token operator">-></span>head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="114"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span>pCurrent <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="115"></td><td><pre>		<span class="token comment">// 缓存下一个结点</span></pre></td></tr><tr><td data-num="116"></td><td><pre>		LinkNode<span class="token operator">*</span> pNext <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="117"></td><td><pre>		<span class="token function">free</span><span class="token punctuation">(</span>pCurrent<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="118"></td><td><pre>		pCurrent <span class="token operator">=</span> pNext<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="119"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="120"></td><td><pre>	<span class="token comment">// 释放链表内存</span></pre></td></tr><tr><td data-num="121"></td><td><pre>	list<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="123"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="linklisth"><a class="anchor" href="#linklisth">#</a> LinkList.h</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">LINKLIST_H</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LINKLIST_H</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 链表结点</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LINKNODE</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">;</span>  <span class="token comment">// 指向任何类型的数据</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">LINKNODE</span><span class="token operator">*</span> next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span>LinkNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 链表结构体</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LINKLIST</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	LinkNode<span class="token operator">*</span> head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">int</span> size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token comment">// 需要容量吗？没有容量的概念</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span>LinkList<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">// 打印函数指针</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">*</span>PRINTLINKNODE<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">// 初始化链表</span></pre></td></tr><tr><td data-num="22"></td><td><pre>LinkList<span class="token operator">*</span> <span class="token function">Init_LinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 指定位置插入</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">void</span> <span class="token function">Insert_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span><span class="token keyword">int</span> pos<span class="token punctuation">,</span><span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">// 删除指定位置的值</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">void</span> <span class="token function">RemoveByPos_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// 获得链表的长度</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">// 查找</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">int</span> <span class="token function">Find_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span><span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token comment">// 返回第一个结点</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">Front_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token comment">// 打印链表结点</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token keyword">void</span> <span class="token function">Print_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span> PRINTLINKNODE print<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token comment">// 释放链表内存</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr></table></figure><h3 id="企业链表"><a class="anchor" href="#企业链表">#</a> 企业链表</h3><h4 id="03-企业链表"><a class="anchor" href="#03-企业链表">#</a> 03 企业链表</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"LinkList.h"</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">PERSON</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	LinkNode node<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">int</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span>Person<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">void</span> <span class="token function">MyPrint</span><span class="token punctuation">(</span>LinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	Person<span class="token operator">*</span>  p <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token operator">*</span><span class="token punctuation">)</span>data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Name:%s Age:%d\n"</span><span class="token punctuation">,</span>p<span class="token operator">-></span>name<span class="token punctuation">,</span>p<span class="token operator">-></span>age<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">int</span> <span class="token function">MyCompare</span><span class="token punctuation">(</span>LinkNode<span class="token operator">*</span> node1<span class="token punctuation">,</span> LinkNode<span class="token operator">*</span> node2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	Person<span class="token operator">*</span> p1 <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token operator">*</span><span class="token punctuation">)</span>node1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	Person<span class="token operator">*</span> p2 <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token operator">*</span><span class="token punctuation">)</span>node2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>p1<span class="token operator">-></span>name<span class="token punctuation">,</span>p2<span class="token operator">-></span>name<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> p1<span class="token operator">-></span>age <span class="token operator">==</span> p2<span class="token operator">-></span>age<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token comment">// 创建链表</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	LinkList<span class="token operator">*</span> list <span class="token operator">=</span> <span class="token function">Init_LinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token comment">// 创建数据</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	Person p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3<span class="token punctuation">,</span> p4<span class="token punctuation">,</span> p5<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"aaa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"bbb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p3<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"ccc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p4<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"ddd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p5<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"eee"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	p1<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	p2<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	p3<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	p4<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	p5<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token comment">// 将结点插入链表</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token function">Insert_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token function">Insert_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token function">Insert_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token function">Insert_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	<span class="token function">Insert_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	<span class="token comment">// 打印</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token function">Print_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> MyPrint<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token comment">// 删除结点</span></pre></td></tr><tr><td data-num="51"></td><td><pre>	<span class="token function">Remove_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token comment">// 打印</span></pre></td></tr><tr><td data-num="53"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"---------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>	<span class="token function">Print_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> MyPrint<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>	<span class="token comment">// 查找</span></pre></td></tr><tr><td data-num="56"></td><td><pre>	Person findP<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>findP<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"bbb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	findP<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	<span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token function">Find_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>findP<span class="token punctuation">,</span> MyCompare<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"位置:%d\n"</span><span class="token punctuation">,</span>pos<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	<span class="token comment">// 释放链表内存</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	<span class="token function">FreeSpace_LinkList</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="linklistc-2"><a class="anchor" href="#linklistc-2">#</a> LinkList.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"LinkList.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 初始化链表</span></pre></td></tr><tr><td data-num="4"></td><td><pre>LinkList<span class="token operator">*</span> <span class="token function">Init_LinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	LinkList<span class="token operator">*</span> list <span class="token operator">=</span> <span class="token punctuation">(</span>LinkList<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkList<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	list<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	list<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">return</span> list<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 插入</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">void</span> <span class="token function">Insert_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">,</span> LinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> pos <span class="token operator">></span> list<span class="token operator">-></span>size<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		pos <span class="token operator">=</span> list<span class="token operator">-></span>size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token comment">// 查找插入位置</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	LinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>list<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pos<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token comment">// 插入新节点</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	data<span class="token operator">-></span>next <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	pCurrent<span class="token operator">-></span>next <span class="token operator">=</span> data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	list<span class="token operator">-></span>size<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment">// 删除</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token keyword">void</span> <span class="token function">Remove_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> pos <span class="token operator">>=</span> list<span class="token operator">-></span>size<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token comment">// 辅助指针变量</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	LinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>list<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pos<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token comment">// 删除结点</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	pCurrent<span class="token operator">-></span>next <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	list<span class="token operator">-></span>size<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="49"></td><td><pre></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token comment">// 查找</span></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token keyword">int</span> <span class="token function">Find_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span> LinkNode<span class="token operator">*</span> data<span class="token punctuation">,</span> COMPARENODE compare<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	<span class="token comment">// 赋值指针变量</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	LinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> list<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>	<span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	<span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span>pCurrent <span class="token operator">!=</span> <span class="token constant">NULL</span>	<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">compare</span><span class="token punctuation">(</span>pCurrent<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>			flag <span class="token operator">=</span> index<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>			<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>		index<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	<span class="token keyword">return</span> flag<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="72"></td><td><pre></pre></td></tr><tr><td data-num="73"></td><td><pre><span class="token comment">// 返回链表大小</span></pre></td></tr><tr><td data-num="74"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="77"></td><td><pre></pre></td></tr><tr><td data-num="78"></td><td><pre><span class="token comment">// 打印</span></pre></td></tr><tr><td data-num="79"></td><td><pre><span class="token keyword">void</span> <span class="token function">Print_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span> PRINTNODE print<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>	<span class="token comment">// 辅助指针</span></pre></td></tr><tr><td data-num="84"></td><td><pre>	LinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> list<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span>pCurrent <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>		<span class="token function">print</span><span class="token punctuation">(</span>pCurrent<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="89"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="90"></td><td><pre></pre></td></tr><tr><td data-num="91"></td><td><pre><span class="token comment">// 释放链表内存</span></pre></td></tr><tr><td data-num="92"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="93"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="94"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="95"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="97"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="linklisth-2"><a class="anchor" href="#linklisth-2">#</a> LinkList.h</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">LINKLIST_H</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LINKLIST_H</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 链表小结点</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LINKNODE</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">LINKNODE</span><span class="token operator">*</span> next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span>LinkNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 链表结点</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LINKLIST</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	LinkNode head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">int</span> size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span>LinkList<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">// 遍历函数指针</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">*</span>PRINTNODE<span class="token punctuation">)</span><span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment">// 比较函数指针</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token operator">*</span>COMPARENODE<span class="token punctuation">)</span><span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">,</span> LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 初始化链表</span></pre></td></tr><tr><td data-num="24"></td><td><pre>LinkList<span class="token operator">*</span> <span class="token function">Init_LinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">// 插入</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">void</span> <span class="token function">Insert_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">,</span> LinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// 删除</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">void</span> <span class="token function">Remove_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">// 查找</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">int</span> <span class="token function">Find_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span> LinkNode<span class="token operator">*</span> data<span class="token punctuation">,</span> COMPARENODE compare<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token comment">// 返回链表大小</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token comment">// 打印</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token keyword">void</span> <span class="token function">Print_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">,</span> PRINTNODE print<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token comment">// 释放链表内存</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_LinkList</span><span class="token punctuation">(</span>LinkList<span class="token operator">*</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr></table></figure><h2 id="24循环链表"><a class="anchor" href="#24循环链表">#</a> 2.4 循环链表</h2><h3 id="循环链表基本概念"><a class="anchor" href="#循环链表基本概念">#</a> 循环链表基本概念</h3><p>链表中最后一个结点的<span class="exturl" data-url="aHR0cDovL2JhaWtlLmJhaWR1LmNvbS92aWV3LzE1OTQxNy5odG0=">指针</span>域指向<span class="exturl" data-url="aHR0cDovL2JhaWtlLmJhaWR1LmNvbS92aWV3LzU0OTQ5Ny5odG0=">头结点</span>，整个链表形成一个环。</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112021631315.png" alt="image-20211202163112131"></p><h3 id="循环链表设计与实现"><a class="anchor" href="#循环链表设计与实现">#</a> 循环链表设计与实现</h3><h4 id="插入元素分析"><a class="anchor" href="#插入元素分析">#</a> <strong>插入元素分析</strong></h4><p><strong>普通插入元素（和单链表是一样的）</strong></p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112021631560.png" alt="img"></p><p><strong>尾插法（和单链表是一样的，单链表的写法支持尾插法)</strong></p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112021632226.png" alt="img"></p><p>分析：最后一个结点的 next 指针指向新添加的结点，新结点的 next 指向第一个结点。</p><p><strong>头插法</strong></p><p>分析：</p><p>新节点指向当前的第一个结点</p><p>尾结点指向新节点</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112021631014.png" alt="img"></p><p><strong>第一次插入结点</strong></p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112021631030.png" alt="img"></p><p>尾节点指针指向第一个数据节点（即自己指向自己）</p><h4 id="删除结点分析"><a class="anchor" href="#删除结点分析">#</a> <strong>删除结点分析</strong></h4><p><strong>删除普通结点</strong></p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112021631031.png" alt="img"></p><p><strong>删除头结点</strong></p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112021635517.png" alt="img"></p><p>更新 head 结点，并且尾结点重新连接新的头结点</p><h3 id="循环链表"><a class="anchor" href="#循环链表">#</a> 循环链表</h3><h4 id="04循环链表c"><a class="anchor" href="#04循环链表c">#</a> 04 循环链表.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"CircleLinkList.h"</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">PERSON</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	CircleLinkNode node<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">int</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">int</span> score<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span>Person<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">void</span> <span class="token function">MyPrint</span><span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	Person<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token operator">*</span><span class="token punctuation">)</span>data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Name:%s Age:%d Score:%d\n"</span><span class="token punctuation">,</span>p<span class="token operator">-></span>name<span class="token punctuation">,</span>p<span class="token operator">-></span>age<span class="token punctuation">,</span>p<span class="token operator">-></span>score<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">int</span> <span class="token function">MyCompare</span><span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span> data1<span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span> data2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	Person<span class="token operator">*</span> p1 <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token operator">*</span><span class="token punctuation">)</span>data1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	Person<span class="token operator">*</span> p2 <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token operator">*</span><span class="token punctuation">)</span>data2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>p1<span class="token operator">-></span>name<span class="token punctuation">,</span>p2<span class="token operator">-></span>name<span class="token punctuation">)</span> <span class="token operator">==</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> p1<span class="token operator">-></span>age <span class="token operator">==</span> p2<span class="token operator">-></span>age<span class="token operator">&amp;&amp;</span> p1<span class="token operator">-></span>score <span class="token operator">==</span> p2<span class="token operator">-></span>score<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token keyword">return</span> CIRCLELINKLIST_TRUE<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token keyword">return</span> CIRCLELINKLIST_FALSE<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token comment">// 创建循环链表</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	CircleLinkList<span class="token operator">*</span> clist <span class="token operator">=</span> <span class="token function">Init_CircleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token comment">// 创建数据</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	Person p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3<span class="token punctuation">,</span> p4<span class="token punctuation">,</span> p5<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"aaa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"bbb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p3<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"ccc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p4<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"ddd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p5<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"eee"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	p1<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	p2<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	p3<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	p4<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	p5<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	p1<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	p2<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	p3<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	p4<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">65</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	p5<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">70</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	<span class="token comment">// 数据入链表</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token function">Insert_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token function">Insert_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>	<span class="token function">Insert_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token function">Insert_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>	<span class="token function">Insert_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>	<span class="token comment">// 打印</span></pre></td></tr><tr><td data-num="55"></td><td><pre>	<span class="token function">Print_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">,</span> MyPrint<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>	Person pDel<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>pDel<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token string">"ddd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	pDel<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	pDel<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">65</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>	<span class="token comment">// 根据值删除</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	<span class="token function">RemoveByValue_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">,</span> <span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>pDel<span class="token punctuation">,</span> MyCompare<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	<span class="token comment">// 打印</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"--------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	<span class="token function">Print_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">,</span> MyPrint<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>	<span class="token comment">// 释放内存</span></pre></td></tr><tr><td data-num="66"></td><td><pre>	<span class="token function">FreeSpace_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="circlelinklistc"><a class="anchor" href="#circlelinklistc">#</a> CircleLinkList.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"CircleLinkList.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 初始化函数</span></pre></td></tr><tr><td data-num="4"></td><td><pre>CircleLinkList<span class="token operator">*</span> <span class="token function">Init_CircleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	CircleLinkList<span class="token operator">*</span> clist <span class="token operator">=</span> <span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>CircleLinkList<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	clist<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>clist<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	clist<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">return</span> clist<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 插入函数</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">void</span> <span class="token function">Insert_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>clist <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">&lt;</span><span class="token number">0</span> <span class="token operator">||</span> pos <span class="token operator">></span> clist<span class="token operator">-></span>size<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		pos <span class="token operator">=</span> clist<span class="token operator">-></span>size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token comment">// 根据位置查找结点</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token comment">// 辅助指针变量</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>clist<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pos<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token comment">// 新数据入链表</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	data<span class="token operator">-></span>next <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	pCurrent<span class="token operator">-></span>next <span class="token operator">=</span> data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	clist<span class="token operator">-></span>size <span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token comment">// 获得第一个元素</span></pre></td></tr><tr><td data-num="35"></td><td><pre>CircleLinkNode<span class="token operator">*</span> <span class="token function">Front_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token keyword">return</span> clist<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="38"></td><td><pre></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token comment">// 根据位置删除</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token keyword">void</span> <span class="token function">RemoveByPos_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>clist <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> pos <span class="token operator">>=</span> clist<span class="token operator">-></span>size<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	<span class="token comment">// 根据 pos 找结点</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	<span class="token comment">// 辅助指针变量</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>clist<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pos<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>	<span class="token comment">// 缓存当前结点的下一个结点</span></pre></td></tr><tr><td data-num="54"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pNext <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>	pCurrent<span class="token operator">-></span>next <span class="token operator">=</span> pNext<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>	clist<span class="token operator">-></span>size<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="58"></td><td><pre></pre></td></tr><tr><td data-num="59"></td><td><pre><span class="token comment">// 根据值去删除</span></pre></td></tr><tr><td data-num="60"></td><td><pre><span class="token keyword">void</span> <span class="token function">RemoveByValue_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span> data<span class="token punctuation">,</span> COMPARENODE compare<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>clist <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>	<span class="token comment">// 这个是循环链表</span></pre></td></tr><tr><td data-num="68"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pPrev <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>clist<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> pPrev<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> clist<span class="token operator">-></span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">compare</span><span class="token punctuation">(</span>pCurrent<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">==</span> CIRCLELINKLIST_TRUE<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>			pPrev<span class="token operator">-></span>next <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>			clist<span class="token operator">-></span>size<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>			<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>		pPrev <span class="token operator">=</span> pCurrent<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>		pCurrent <span class="token operator">=</span> pPrev<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="80"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="81"></td><td><pre></pre></td></tr><tr><td data-num="82"></td><td><pre><span class="token comment">// 获得链表的长度</span></pre></td></tr><tr><td data-num="83"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>	<span class="token keyword">return</span> clist<span class="token operator">-></span>size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="85"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="86"></td><td><pre></pre></td></tr><tr><td data-num="87"></td><td><pre><span class="token comment">// 判断是否为空</span></pre></td></tr><tr><td data-num="88"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsEmpty_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>clist<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>		<span class="token keyword">return</span> CIRCLELINKLIST_TRUE<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="92"></td><td><pre>	<span class="token keyword">return</span> CIRCLELINKLIST_FALSE<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="93"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="94"></td><td><pre></pre></td></tr><tr><td data-num="95"></td><td><pre><span class="token comment">// 查找</span></pre></td></tr><tr><td data-num="96"></td><td><pre><span class="token keyword">int</span> <span class="token function">Find_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span> data<span class="token punctuation">,</span> COMPARENODE compare<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="97"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>clist <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="98"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="99"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="100"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="101"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="102"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="103"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> clist<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="104"></td><td><pre>	<span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="105"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> clist<span class="token operator">-></span>size<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="106"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">compare</span><span class="token punctuation">(</span>pCurrent<span class="token punctuation">,</span>data<span class="token punctuation">)</span> <span class="token operator">==</span> CIRCLELINKLIST_TRUE<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="107"></td><td><pre>			flag <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="108"></td><td><pre>			<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="109"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="110"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="111"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>	<span class="token keyword">return</span> flag<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="113"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="114"></td><td><pre></pre></td></tr><tr><td data-num="115"></td><td><pre><span class="token comment">// 打印节点</span></pre></td></tr><tr><td data-num="116"></td><td><pre><span class="token keyword">void</span> <span class="token function">Print_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> PRINTNODE print<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>	</pre></td></tr><tr><td data-num="117"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>clist <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="118"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="119"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="120"></td><td><pre>	<span class="token comment">// 辅助指针变量</span></pre></td></tr><tr><td data-num="121"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> clist<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> clist<span class="token operator">-></span>size<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="123"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>pCurrent <span class="token operator">==</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>clist<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="124"></td><td><pre>			pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="125"></td><td><pre>			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"------------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="126"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="127"></td><td><pre>		<span class="token function">print</span><span class="token punctuation">(</span>pCurrent<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="128"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="129"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="130"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="131"></td><td><pre></pre></td></tr><tr><td data-num="132"></td><td><pre><span class="token comment">// 释放内存</span></pre></td></tr><tr><td data-num="133"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="134"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>clist <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="135"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="136"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="137"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>clist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="138"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="circlelinklisth"><a class="anchor" href="#circlelinklisth">#</a> CircleLinkList.h</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">CIRCLELINKLIST</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">CIRCLELINKLIST</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 链表的小结点</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">CIRCLELINKNODE</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">CIRCLELINKNODE</span><span class="token operator">*</span> next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span>CircleLinkNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 链表结构体</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">CIRCLELINKLIST</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	CircleLinkNode head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">int</span> size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span>CircleLinkList<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">// 编写针对链表结构体操作的 API 函数</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">CIRCLELINKLIST_TRUE</span> <span class="token expression"><span class="token number">1</span></span></span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">CIRCLELINKLIST_FALSE</span> <span class="token expression"><span class="token number">0</span></span></span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">// 比较回调</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token operator">*</span>COMPARENODE<span class="token punctuation">)</span><span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span><span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 打印回调</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">*</span>PRINTNODE<span class="token punctuation">)</span><span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment">// 初始化函数</span></pre></td></tr><tr><td data-num="27"></td><td><pre>CircleLinkList<span class="token operator">*</span> <span class="token function">Init_CircleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token comment">// 插入函数</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token keyword">void</span> <span class="token function">Insert_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token comment">// 获得第一个元素</span></pre></td></tr><tr><td data-num="31"></td><td><pre>CircleLinkNode<span class="token operator">*</span> <span class="token function">Front_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment">// 根据位置删除</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token keyword">void</span> <span class="token function">RemoveByPos_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token comment">// 根据值去删除</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token keyword">void</span> <span class="token function">RemoveByValue_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span> data<span class="token punctuation">,</span> COMPARENODE compare<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token comment">// 获得链表的长度</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token comment">// 判断是否为空</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsEmpty_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token comment">// 查找</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token keyword">int</span> <span class="token function">Find_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span> data<span class="token punctuation">,</span> COMPARENODE compare<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token comment">// 打印节点</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token keyword">void</span> <span class="token function">Print_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> PRINTNODE print<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token comment">// 释放内存</span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr></table></figure><h3 id="循环链表应用约瑟夫问题"><a class="anchor" href="#循环链表应用约瑟夫问题">#</a> 循环链表应用 (约瑟夫问题)</h3><p>** 例题：**n 个人围成一个圆圈，首先第 1 个人从 1 开始一个人一个人顺时针报数，报到第 m 个人，令其出列。然后再从下一 个人开始从 1 顺时针报数，报到第 m 个人，再令其出列，…，如此下去，求出列顺序。</p><p><strong>假设：</strong> m = 8，n=3</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112052110332.png" alt="img"></p><h4 id="05约瑟夫问题c"><a class="anchor" href="#05约瑟夫问题c">#</a> 05 约瑟夫问题.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"CircleLinkList.h"</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">M</span> <span class="token expression"><span class="token number">8</span></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">N</span> <span class="token expression"><span class="token number">3</span></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">MYNUM</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	CircleLinkNode node<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">int</span> val<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span>MyNum<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">void</span> <span class="token function">MyPrint</span><span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	MyNum<span class="token operator">*</span> num <span class="token operator">=</span> <span class="token punctuation">(</span>MyNum<span class="token operator">*</span><span class="token punctuation">)</span>data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>num<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">int</span> <span class="token function">MyCompare</span><span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span> data1<span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span> data2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	MyNum<span class="token operator">*</span> num1 <span class="token operator">=</span> <span class="token punctuation">(</span>MyNum<span class="token operator">*</span><span class="token punctuation">)</span>data1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	MyNum<span class="token operator">*</span> num2 <span class="token operator">=</span> <span class="token punctuation">(</span>MyNum<span class="token operator">*</span><span class="token punctuation">)</span>data2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>num1<span class="token operator">-></span>val <span class="token operator">==</span> num2<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token keyword">return</span> CIRCLELINKLIST_TRUE<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token keyword">return</span> CIRCLELINKLIST_FALSE<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token comment">// 创建循环链表</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	CircleLinkList<span class="token operator">*</span> clist <span class="token operator">=</span> <span class="token function">Init_CircleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token comment">// 链表插入数据</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	MyNum num<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span>i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>		num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>val <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>		<span class="token function">Insert_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token comment">// 打印</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token function">Print_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">,</span> MyPrint<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre></pre></td></tr><tr><td data-num="44"></td><td><pre></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token comment">// 辅助指针</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> clist<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">Size_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>		</pre></td></tr><tr><td data-num="50"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> N<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>			</pre></td></tr><tr><td data-num="52"></td><td><pre>			MyNum<span class="token operator">*</span> temNum <span class="token operator">=</span> <span class="token punctuation">(</span>MyNum<span class="token operator">*</span><span class="token punctuation">)</span>pCurrent<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> temNum<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre></pre></td></tr><tr><td data-num="55"></td><td><pre>			<span class="token comment">// 缓存待删除结点的下一个结点</span></pre></td></tr><tr><td data-num="56"></td><td><pre>			CircleLinkNode<span class="token operator">*</span> pNext <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>			<span class="token comment">// 根据值删除</span></pre></td></tr><tr><td data-num="58"></td><td><pre>			<span class="token function">RemoveByValue_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">,</span> pCurrent<span class="token punctuation">,</span> MyCompare<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>			pCurrent <span class="token operator">=</span> pNext<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span>pCurrent <span class="token operator">==</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>clist<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>				pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>			index <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="65"></td><td><pre></pre></td></tr><tr><td data-num="66"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>pCurrent <span class="token operator">==</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>clist<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>			pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>		index<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="72"></td><td><pre></pre></td></tr><tr><td data-num="73"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Size_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>		MyNum<span class="token operator">*</span> tempNum <span class="token operator">=</span> <span class="token punctuation">(</span>MyNum<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Front_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span>tempNum<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>	<span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"出错!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="80"></td><td><pre></pre></td></tr><tr><td data-num="81"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="82"></td><td><pre></pre></td></tr><tr><td data-num="83"></td><td><pre>	<span class="token comment">// 释放链表内存</span></pre></td></tr><tr><td data-num="84"></td><td><pre>	<span class="token function">FreeSpace_CircleLinkList</span><span class="token punctuation">(</span>clist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>	</pre></td></tr><tr><td data-num="86"></td><td><pre></pre></td></tr><tr><td data-num="87"></td><td><pre></pre></td></tr><tr><td data-num="88"></td><td><pre></pre></td></tr><tr><td data-num="89"></td><td><pre>	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="91"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="circlelinklisc"><a class="anchor" href="#circlelinklisc">#</a> CircleLinkLis.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"CircleLinkList.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 初始化函数</span></pre></td></tr><tr><td data-num="4"></td><td><pre>CircleLinkList<span class="token operator">*</span> <span class="token function">Init_CircleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>	CircleLinkList<span class="token operator">*</span> clist <span class="token operator">=</span> <span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>CircleLinkList<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	clist<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>clist<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	clist<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">return</span> clist<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 插入函数</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">void</span> <span class="token function">Insert_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	</pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>clist <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">&lt;</span><span class="token number">0</span> <span class="token operator">||</span> pos <span class="token operator">></span> clist<span class="token operator">-></span>size<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		pos <span class="token operator">=</span> clist<span class="token operator">-></span>size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token comment">// 根据位置查找结点</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token comment">// 辅助指针变量</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>clist<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pos<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token comment">// 新数据入链表</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	data<span class="token operator">-></span>next <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	pCurrent<span class="token operator">-></span>next <span class="token operator">=</span> data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre></pre></td></tr><tr><td data-num="39"></td><td><pre>	clist<span class="token operator">-></span>size <span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token comment">// 获得第一个元素</span></pre></td></tr><tr><td data-num="42"></td><td><pre>CircleLinkNode<span class="token operator">*</span> <span class="token function">Front_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token keyword">return</span> clist<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token comment">// 根据位置删除</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token keyword">void</span> <span class="token function">RemoveByPos_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="47"></td><td><pre></pre></td></tr><tr><td data-num="48"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>clist <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="51"></td><td><pre></pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> pos <span class="token operator">>=</span> clist<span class="token operator">-></span>size<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre></pre></td></tr><tr><td data-num="56"></td><td><pre>	<span class="token comment">// 根据 pos 找结点</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	<span class="token comment">// 辅助指针变量</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>clist<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pos<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	</pre></td></tr><tr><td data-num="63"></td><td><pre>	<span class="token comment">// 缓存当前结点的下一个结点</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pNext <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>	pCurrent<span class="token operator">-></span>next <span class="token operator">=</span> pNext<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>	</pre></td></tr><tr><td data-num="67"></td><td><pre>	clist<span class="token operator">-></span>size<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="69"></td><td><pre><span class="token comment">// 根据值去删除</span></pre></td></tr><tr><td data-num="70"></td><td><pre><span class="token keyword">void</span> <span class="token function">RemoveByValue_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span> data<span class="token punctuation">,</span> COMPARENODE compare<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="71"></td><td><pre></pre></td></tr><tr><td data-num="72"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>clist <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="75"></td><td><pre></pre></td></tr><tr><td data-num="76"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="79"></td><td><pre></pre></td></tr><tr><td data-num="80"></td><td><pre>	<span class="token comment">// 这个是循环链表</span></pre></td></tr><tr><td data-num="81"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pPrev <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>clist<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> pPrev<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> clist<span class="token operator">-></span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">compare</span><span class="token punctuation">(</span>pCurrent<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">==</span> CIRCLELINKLIST_TRUE<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>			pPrev<span class="token operator">-></span>next <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>			clist<span class="token operator">-></span>size<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>			<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>		pPrev <span class="token operator">=</span> pCurrent<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>		pCurrent <span class="token operator">=</span> pPrev<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="92"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="93"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="94"></td><td><pre><span class="token comment">// 获得链表的长度</span></pre></td></tr><tr><td data-num="95"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>	<span class="token keyword">return</span> clist<span class="token operator">-></span>size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="97"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="98"></td><td><pre><span class="token comment">// 判断是否为空</span></pre></td></tr><tr><td data-num="99"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsEmpty_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="100"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>clist<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="101"></td><td><pre>		<span class="token keyword">return</span> CIRCLELINKLIST_TRUE<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="102"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="103"></td><td><pre>	<span class="token keyword">return</span> CIRCLELINKLIST_FALSE<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="104"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="105"></td><td><pre><span class="token comment">// 查找</span></pre></td></tr><tr><td data-num="106"></td><td><pre><span class="token keyword">int</span> <span class="token function">Find_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span> data<span class="token punctuation">,</span> COMPARENODE compare<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="107"></td><td><pre></pre></td></tr><tr><td data-num="108"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>clist <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="109"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="110"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="111"></td><td><pre></pre></td></tr><tr><td data-num="112"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="113"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="114"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="115"></td><td><pre></pre></td></tr><tr><td data-num="116"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> clist<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="117"></td><td><pre>	<span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="118"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> clist<span class="token operator">-></span>size<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="119"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">compare</span><span class="token punctuation">(</span>pCurrent<span class="token punctuation">,</span>data<span class="token punctuation">)</span> <span class="token operator">==</span> CIRCLELINKLIST_TRUE<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="120"></td><td><pre>			flag <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="121"></td><td><pre>			<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="123"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="124"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="125"></td><td><pre></pre></td></tr><tr><td data-num="126"></td><td><pre>	<span class="token keyword">return</span> flag<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="127"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="128"></td><td><pre><span class="token comment">// 打印节点</span></pre></td></tr><tr><td data-num="129"></td><td><pre><span class="token keyword">void</span> <span class="token function">Print_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> PRINTNODE print<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="130"></td><td><pre>		</pre></td></tr><tr><td data-num="131"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>clist <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="132"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="133"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="134"></td><td><pre>	</pre></td></tr><tr><td data-num="135"></td><td><pre>	<span class="token comment">// 辅助指针变量</span></pre></td></tr><tr><td data-num="136"></td><td><pre>	CircleLinkNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> clist<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="137"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> clist<span class="token operator">-></span>size<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="138"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>pCurrent <span class="token operator">==</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>clist<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="139"></td><td><pre>			pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="140"></td><td><pre>			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"------------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="141"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="142"></td><td><pre>		<span class="token function">print</span><span class="token punctuation">(</span>pCurrent<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="143"></td><td><pre>		pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="144"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="145"></td><td><pre></pre></td></tr><tr><td data-num="146"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="147"></td><td><pre><span class="token comment">// 释放内存</span></pre></td></tr><tr><td data-num="148"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="149"></td><td><pre></pre></td></tr><tr><td data-num="150"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>clist <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="151"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="152"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="153"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>clist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="154"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="circlelinklish"><a class="anchor" href="#circlelinklish">#</a> CircleLinkLis.h</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">CIRCLELINKLIST</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">CIRCLELINKLIST</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 链表的小结点</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">CIRCLELINKNODE</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">CIRCLELINKNODE</span><span class="token operator">*</span> next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span>CircleLinkNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 链表结构体</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">CIRCLELINKLIST</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	CircleLinkNode head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">int</span> size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span>CircleLinkList<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">// 编写针对链表结构体操作的 API 函数</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">CIRCLELINKLIST_TRUE</span> <span class="token expression"><span class="token number">1</span></span></span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">CIRCLELINKLIST_FALSE</span> <span class="token expression"><span class="token number">0</span></span></span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 比较回调</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token operator">*</span>COMPARENODE<span class="token punctuation">)</span><span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span><span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">// 打印回调</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">*</span>PRINTNODE<span class="token punctuation">)</span><span class="token punctuation">(</span>CircleLinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token comment">// 初始化函数</span></pre></td></tr><tr><td data-num="29"></td><td><pre>CircleLinkList<span class="token operator">*</span> <span class="token function">Init_CircleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token comment">// 插入函数</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token keyword">void</span> <span class="token function">Insert_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment">// 获得第一个元素</span></pre></td></tr><tr><td data-num="33"></td><td><pre>CircleLinkNode<span class="token operator">*</span> <span class="token function">Front_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token comment">// 根据位置删除</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token keyword">void</span> <span class="token function">RemoveByPos_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token comment">// 根据值去删除</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token keyword">void</span> <span class="token function">RemoveByValue_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span> data<span class="token punctuation">,</span> COMPARENODE compare<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token comment">// 获得链表的长度</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token comment">// 判断是否为空</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsEmpty_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token comment">// 查找</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token keyword">int</span> <span class="token function">Find_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> CircleLinkNode<span class="token operator">*</span> data<span class="token punctuation">,</span> COMPARENODE compare<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token comment">// 打印节点</span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token keyword">void</span> <span class="token function">Print_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">,</span> PRINTNODE print<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token comment">// 释放内存</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_CircleLinkList</span><span class="token punctuation">(</span>CircleLinkList<span class="token operator">*</span> clist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr></table></figure><h2 id="25双向链表"><a class="anchor" href="#25双向链表">#</a> 2.5 双向链表</h2><h3 id="双向链表基本概念"><a class="anchor" href="#双向链表基本概念">#</a> 双向链表基本概念</h3><p><strong>请思考</strong>： 为什么<strong>需要</strong>双向链表？</p><p>n 单链表的结点都只有一个指向下一个结点的指针</p><p>n 单链表的数据元素无法直接访问其前驱元素</p><p>n <strong>逆序访问单链表</strong>中的元素是极其<strong>耗时</strong>的操作！（如图）</p><p>l 双向链表的定义</p><p>在单链表的结点中增加一个指向其前驱的 pre 指针。</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112052152159.png" alt="img"></p><h3 id="双向链表设计与实现"><a class="anchor" href="#双向链表设计与实现">#</a> 双向链表设计与实现</h3><h4 id="插入操作-2"><a class="anchor" href="#插入操作-2">#</a> 插入操作</h4><h5 id="在普通位置插入节点"><a class="anchor" href="#在普通位置插入节点">#</a> 在普通位置插入节点</h5><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112052152757.png" alt="img"></p><p><strong>current-&gt;next = node;</strong></p><p><strong>node-&gt;next = next;</strong></p><p><strong>next-&gt;pre = node;</strong></p><p><strong>node-&gt;pre = current;</strong></p><h5 id="在空链表中插入节点"><a class="anchor" href="#在空链表中插入节点">#</a> <strong>在空链表中插入节点</strong></h5><p><strong><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112052153956.png" alt="img"></strong></p><p><strong>插入操作异常处理</strong></p><p><strong>在空链表中插入新的元素</strong></p><ul><li><strong>空节点（NULL）没有前驱指针；</strong></li><li><strong>新节点的前驱指针，需要指向 NULL；</strong></li></ul><h4 id="删除操作-2"><a class="anchor" href="#删除操作-2">#</a> 删除操作</h4><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112052152779.png" alt="img"></p><p><strong>current-&gt;next = next;</strong></p><p><strong>next-&gt;pre = current;</strong></p><p><strong>删除操作异常处理：当双向链表仅有一个节点的时候</strong></p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112052152785.png" alt="img"></p><p><strong>如果辅助指针变量 pNext == NULL，那么 pNext 是没有前驱操作的。空指针既没有前驱也没有后继。</strong></p><h3 id="双向链表"><a class="anchor" href="#双向链表">#</a> 双向链表</h3><h4 id="06双向链表c"><a class="anchor" href="#06双向链表c">#</a> 06 双向链表.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"DoubleLinkList.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_TEAHCER</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span>Teacher<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">void</span> <span class="token function">PrintNode</span><span class="token punctuation">(</span>DoubleListNode<span class="token operator">*</span> node<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	Teacher<span class="token operator">*</span> teacher <span class="token operator">=</span> <span class="token punctuation">(</span>Teacher<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span>node<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Name:%s Age:%d\n"</span><span class="token punctuation">,</span>teacher<span class="token operator">-></span>name<span class="token punctuation">,</span>teacher<span class="token operator">-></span>age<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 测试双向链表函数</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">// 创建双向链表</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	DoubleLinkList<span class="token operator">*</span> dlist <span class="token operator">=</span> <span class="token function">InitDoubleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token comment">// 创建数据</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	Teacher t1<span class="token punctuation">,</span> t2<span class="token punctuation">,</span> t3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	t1<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	t2<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	t3<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"aaa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>t2<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"bbb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>t3<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"ccc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token comment">// 插入数据</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token function">InsertDoubleLinkList</span><span class="token punctuation">(</span>dlist<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>t1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token function">InsertDoubleLinkList</span><span class="token punctuation">(</span>dlist<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>t2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token function">InsertDoubleLinkList</span><span class="token punctuation">(</span>dlist<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>t3<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token comment">// 打印数据</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"----------正向遍历----------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token function">PrintDoubleListNode</span><span class="token punctuation">(</span>dlist<span class="token punctuation">,</span> PrintNode<span class="token punctuation">,</span> DOUBLE_FALSE<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"----------逆序遍历----------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token function">PrintDoubleListNode</span><span class="token punctuation">(</span>dlist<span class="token punctuation">,</span> PrintNode<span class="token punctuation">,</span>DOUBLE_TRUE<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="doublelinklistc"><a class="anchor" href="#doublelinklistc">#</a> DoubleLinkList.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"DoubleLinkList.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 双向链表初始化</span></pre></td></tr><tr><td data-num="4"></td><td><pre>DoubleLinkList<span class="token operator">*</span> <span class="token function">InitDoubleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	DoubleLinkList<span class="token operator">*</span> dlist <span class="token operator">=</span> <span class="token punctuation">(</span>DoubleLinkList<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>DoubleLinkList<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>dlist <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	dlist<span class="token operator">-></span>head <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	dlist<span class="token operator">-></span>rear <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	dlist<span class="token operator">-></span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">return</span> dlist<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 销毁双向链表</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">void</span> <span class="token function">DestroyDoubleLinkList</span><span class="token punctuation">(</span>DoubleLinkList<span class="token operator">*</span> dlist<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">// 向链表中插入结点</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">int</span> <span class="token function">InsertDoubleLinkList</span><span class="token punctuation">(</span>DoubleLinkList<span class="token operator">*</span> dlist<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token comment">// 创建新的结点</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	DoubleListNode<span class="token operator">*</span> newnode <span class="token operator">=</span> <span class="token punctuation">(</span>DoubleListNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>DoubleListNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	newnode<span class="token operator">-></span>data <span class="token operator">=</span> data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	newnode<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	newnode<span class="token operator">-></span>prev <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token comment">// 第一次插入</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>dlist<span class="token operator">-></span>head <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> dlist<span class="token operator">-></span>rear <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		dlist<span class="token operator">-></span>head <span class="token operator">=</span> newnode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		dlist<span class="token operator">-></span>rear <span class="token operator">=</span> newnode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token comment">// 初始化 head 结点前驱和后继结点</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		dlist<span class="token operator">-></span>head<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		dlist<span class="token operator">-></span>head<span class="token operator">-></span>prev <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token comment">// 初始化 rear 结点的前驱和后继结点</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		dlist<span class="token operator">-></span>rear<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		dlist<span class="token operator">-></span>rear<span class="token operator">-></span>prev <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>		dlist<span class="token operator">-></span>length<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token comment">// 头插法</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>		newnode<span class="token operator">-></span>prev <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>		newnode<span class="token operator">-></span>next <span class="token operator">=</span> dlist<span class="token operator">-></span>head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>		dlist<span class="token operator">-></span>head<span class="token operator">-></span>prev <span class="token operator">=</span> newnode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>		dlist<span class="token operator">-></span>head <span class="token operator">=</span> newnode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>		dlist<span class="token operator">-></span>length<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="49"></td><td><pre></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token comment">// 尾差法</span></pre></td></tr><tr><td data-num="51"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">>=</span> dlist<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>		dlist<span class="token operator">-></span>rear<span class="token operator">-></span>next <span class="token operator">=</span> newnode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>		newnode<span class="token operator">-></span>prev <span class="token operator">=</span> dlist<span class="token operator">-></span>rear<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>		newnode<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>		dlist<span class="token operator">-></span>rear <span class="token operator">=</span> newnode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>		dlist<span class="token operator">-></span>length<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	</pre></td></tr><tr><td data-num="60"></td><td><pre>	<span class="token comment">// 其他插入</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	DoubleListNode<span class="token operator">*</span> pPrev <span class="token operator">=</span> dlist<span class="token operator">-></span>head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	DoubleListNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> pPrev<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pos<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>		pPrev <span class="token operator">=</span> pCurrent<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>		pCurrent <span class="token operator">=</span> pPrev<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>	newnode<span class="token operator">-></span>next <span class="token operator">=</span> pCurrent<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>	pCurrent<span class="token operator">-></span>prev <span class="token operator">=</span> newnode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>	pPrev<span class="token operator">-></span>next <span class="token operator">=</span> newnode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	newnode<span class="token operator">-></span>prev <span class="token operator">=</span> pPrev<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>	dlist<span class="token operator">-></span>length<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="74"></td><td><pre><span class="token comment">// 打印链表</span></pre></td></tr><tr><td data-num="75"></td><td><pre><span class="token keyword">void</span> <span class="token function">PrintDoubleListNode</span><span class="token punctuation">(</span>DoubleLinkList<span class="token operator">*</span> dlist<span class="token punctuation">,</span> PrintDoubleLinkListNode print<span class="token punctuation">,</span> <span class="token keyword">int</span> IsReverse<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="76"></td><td><pre></pre></td></tr><tr><td data-num="77"></td><td><pre>	DoubleListNode<span class="token operator">*</span> pCurrent <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>	<span class="token comment">//true 表示 逆序遍历</span></pre></td></tr><tr><td data-num="79"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>IsReverse <span class="token operator">==</span> DOUBLE_TRUE<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>		pCurrent <span class="token operator">=</span> dlist<span class="token operator">-></span>rear<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>		<span class="token keyword">while</span> <span class="token punctuation">(</span>pCurrent <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>			<span class="token function">print</span><span class="token punctuation">(</span>pCurrent<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>			pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>prev<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>	<span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>		pCurrent <span class="token operator">=</span> dlist<span class="token operator">-></span>head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>		<span class="token keyword">while</span> <span class="token punctuation">(</span>pCurrent <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>			<span class="token function">print</span><span class="token punctuation">(</span>pCurrent<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>			pCurrent <span class="token operator">=</span> pCurrent<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="92"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="93"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"----------------------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="94"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="95"></td><td><pre><span class="token comment">// 获得链表长度</span></pre></td></tr><tr><td data-num="96"></td><td><pre><span class="token keyword">int</span> <span class="token function">GetLengthDoubleLinkList</span><span class="token punctuation">(</span>DoubleLinkList<span class="token operator">*</span> dlist<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="97"></td><td><pre>	<span class="token keyword">return</span> dlist<span class="token operator">-></span>length<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="98"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="99"></td><td><pre><span class="token comment">// 判断链表是否为空</span></pre></td></tr><tr><td data-num="100"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsEmptyDoubleLinkList</span><span class="token punctuation">(</span>DoubleLinkList<span class="token operator">*</span> dlist<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="101"></td><td><pre>	<span class="token keyword">return</span> DOUBLE_TRUE<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="102"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="doublelinklisth"><a class="anchor" href="#doublelinklisth">#</a> DoubleLinkList.h</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">DOUBLELINKLIST_H</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">DOUBLELINKLIST_H</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">DOUBLE_FALSE</span> <span class="token expression"><span class="token number">0</span></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">DOUBLE_TRUE</span> <span class="token expression"><span class="token number">1</span></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 链表结点</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_DOUBLELISTNODE</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">_DOUBLELISTNODE</span><span class="token operator">*</span> next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">_DOUBLELISTNODE</span><span class="token operator">*</span> prev<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span>DoubleListNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 头结点</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_DOUBLELINKLIST</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	DoubleListNode<span class="token operator">*</span> head<span class="token punctuation">;</span> <span class="token comment">// 首结点</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	DoubleListNode<span class="token operator">*</span> rear<span class="token punctuation">;</span> <span class="token comment">// 尾结点</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">int</span> length<span class="token punctuation">;</span> <span class="token comment">// 链表长度</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span>DoubleLinkList<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment">// 打印回调函数</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">*</span>PrintDoubleLinkListNode<span class="token punctuation">)</span><span class="token punctuation">(</span>DoubleListNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment">// 双向链表初始化</span></pre></td></tr><tr><td data-num="25"></td><td><pre>DoubleLinkList<span class="token operator">*</span> <span class="token function">InitDoubleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment">// 销毁双向链表</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token keyword">void</span> <span class="token function">DestroyDoubleLinkList</span><span class="token punctuation">(</span>DoubleLinkList<span class="token operator">*</span> dlist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token comment">// 向链表中插入结点</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token keyword">int</span> <span class="token function">InsertDoubleLinkList</span><span class="token punctuation">(</span>DoubleLinkList<span class="token operator">*</span> dlist<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token comment">// 打印链表</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token keyword">void</span> <span class="token function">PrintDoubleListNode</span><span class="token punctuation">(</span>DoubleLinkList<span class="token operator">*</span> dlist<span class="token punctuation">,</span> PrintDoubleLinkListNode<span class="token operator">*</span> print<span class="token punctuation">,</span><span class="token keyword">int</span> IsReverse<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment">// 获得链表长度</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token keyword">int</span> <span class="token function">GetLengthDoubleLinkList</span><span class="token punctuation">(</span>DoubleLinkList<span class="token operator">*</span> dlist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token comment">// 判断链表是否为空</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsEmptyDoubleLinkList</span><span class="token punctuation">(</span>DoubleLinkList<span class="token operator">*</span> dlist<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr></table></figure><h1 id="3受限线性表"><a class="anchor" href="#3受限线性表">#</a> 3. 受限线性表</h1><h2 id="31栈stack"><a class="anchor" href="#31栈stack">#</a> 3.1 栈 (Stack)</h2><h3 id="栈的基本概念"><a class="anchor" href="#栈的基本概念">#</a> 栈的基本概念</h3><h4 id="概念"><a class="anchor" href="#概念">#</a> <strong>概念：</strong></h4><p>首先它是一个线性表，也就是说，栈元素具有线性关系，即前驱后继关系。只不过<strong>它是一种特殊的线性表</strong>而已。定义中说是在线性表的表尾进行插入和删除操作，这里表尾是指栈顶，而不是栈底。</p><h4 id="特性"><a class="anchor" href="#特性">#</a> <strong>特性</strong>:</h4><p><strong>它的特殊之处在于限制了这个线性表的插入和删除的位置，它始终只在栈顶进行。这也就使得：栈底是固定的，最先进栈的只能在栈底。</strong></p><h4 id="操作"><a class="anchor" href="#操作">#</a> <strong>操作</strong>:</h4><ul><li>栈的插入操作，叫做进栈，也成压栈。类似子弹入弹夹（如下图所示）</li><li>栈的删除操作，叫做出栈，也有的叫做弾栈，退栈。如同弹夹中的子弹出夹（如下图所示）</li></ul><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112092229499.png" alt="img"></p><ul><li>创建栈</li><li>销毁栈</li><li>清空栈</li><li>进栈</li><li>出栈</li><li>获取栈顶元素</li><li>获取栈的大小</li></ul><h4 id="栈的抽象数据类型"><a class="anchor" href="#栈的抽象数据类型">#</a> <strong>栈的抽象数据类型</strong></h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre>ADT 栈（stack）</pre></td></tr><tr><td data-num="2"></td><td><pre>   </pre></td></tr><tr><td data-num="3"></td><td><pre>Data</pre></td></tr><tr><td data-num="4"></td><td><pre> 通线性表。元素具有相同的类型，相邻的元素具有前驱和后继关系。</pre></td></tr><tr><td data-num="5"></td><td><pre>  </pre></td></tr><tr><td data-num="6"></td><td><pre>Operation</pre></td></tr><tr><td data-num="7"></td><td><pre>  </pre></td></tr><tr><td data-num="8"></td><td><pre> <span class="token comment">// 初始化，建立一个空栈 S</span></pre></td></tr><tr><td data-num="9"></td><td><pre> <span class="token function">InitStack</span><span class="token punctuation">(</span><span class="token operator">*</span>S<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre> <span class="token comment">// 若栈存在，则销毁它</span></pre></td></tr><tr><td data-num="11"></td><td><pre> <span class="token function">DestroyStack</span><span class="token punctuation">(</span><span class="token operator">*</span>S<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre> <span class="token comment">// 将栈清空</span></pre></td></tr><tr><td data-num="13"></td><td><pre> <span class="token function">ClearStack</span><span class="token punctuation">(</span><span class="token operator">*</span>S<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre> <span class="token comment">// 若栈为空则返回 true，否则返回 false</span></pre></td></tr><tr><td data-num="15"></td><td><pre> <span class="token function">StackEmpty</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre> <span class="token comment">// 若栈存在且非空，用 e 返回 S 的栈顶元素</span></pre></td></tr><tr><td data-num="17"></td><td><pre> <span class="token function">GetTop</span><span class="token punctuation">(</span>S，<span class="token operator">*</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre> <span class="token comment">// 若栈 S 存在，插入新元素 e 到栈 S 中并成为其栈顶元素</span></pre></td></tr><tr><td data-num="19"></td><td><pre> <span class="token function">Push</span><span class="token punctuation">(</span><span class="token operator">*</span>S，e<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre> <span class="token comment">// 删除栈 S 中的栈顶元素，并用 e 返回其值</span></pre></td></tr><tr><td data-num="21"></td><td><pre> Pop（<span class="token operator">*</span>S<span class="token punctuation">,</span> <span class="token operator">*</span>e）<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre> <span class="token comment">// 返回栈 S 的元素个数</span></pre></td></tr><tr><td data-num="23"></td><td><pre> <span class="token function">StackLength</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>endADT</pre></td></tr></table></figure><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112092229507.png" alt="img"></p><h2 id="32栈的顺序存储"><a class="anchor" href="#32栈的顺序存储">#</a> 3.2 栈的顺序存储</h2><h3 id="基本概念-3"><a class="anchor" href="#基本概念-3">#</a> <strong>基本概念</strong></h3><p>栈的顺序存储结构简称顺序栈，它是运算受限制的顺序表。顺序栈的存储结构是：<strong>利用一组地址连续的的存储单元依次存放自栈底到栈顶的数据元素</strong>，同时附设指针 top 只是栈顶元素在顺序表中的位置。</p><h3 id="设计与实现-2"><a class="anchor" href="#设计与实现-2">#</a> <strong>设计与实现</strong></h3><p><strong>因为栈是一种特殊的线性表，所以栈的顺序存储可以通过顺序线性表来实现。</strong></p><h4 id="07栈的顺序存储c"><a class="anchor" href="#07栈的顺序存储c">#</a> 07 栈的顺序存储.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"SeqStack.h"</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">PERSON</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span>Person<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token comment">// 创建栈</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	SeqStack<span class="token operator">*</span> stack <span class="token operator">=</span> <span class="token function">Init_SeqStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">// 创建数据</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	Person p1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"aaa"</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	Person p2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"bbb"</span><span class="token punctuation">,</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	Person p3 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"ccc"</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	Person p4 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"ddd"</span><span class="token punctuation">,</span> <span class="token number">40</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	Person p5 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"eee"</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token comment">// 入栈</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token function">Push_SeqStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token operator">&amp;</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token function">Push_SeqStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token operator">&amp;</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token function">Push_SeqStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token operator">&amp;</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token function">Push_SeqStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token operator">&amp;</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token function">Push_SeqStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token operator">&amp;</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token comment">// 输出</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">Size_SeqStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		<span class="token comment">// 访问栈顶元素</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		Person<span class="token operator">*</span> person <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Top_SeqStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Name:%s Age:%d\n"</span><span class="token punctuation">,</span>person<span class="token operator">-></span>name<span class="token punctuation">,</span>person<span class="token operator">-></span>age<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token comment">// 弹出栈顶元素</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token function">Pop_SeqStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token comment">// 释放内存</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token function">FreeSpace_SeqStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="seqstackc"><a class="anchor" href="#seqstackc">#</a> SeqStack.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"SeqStack.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 初始化栈</span></pre></td></tr><tr><td data-num="4"></td><td><pre>SeqStack<span class="token operator">*</span> <span class="token function">Init_SeqStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	SeqStack<span class="token operator">*</span> stack <span class="token operator">=</span> <span class="token punctuation">(</span>SeqStack<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>SeqStack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX_SIZE<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		stack<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	stack<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 入栈</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">void</span> <span class="token function">Push_SeqStack</span><span class="token punctuation">(</span>SeqStack<span class="token operator">*</span> stack<span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token operator">-></span>size <span class="token operator">==</span> MAX_SIZE<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	stack<span class="token operator">-></span>data<span class="token punctuation">[</span>stack<span class="token operator">-></span>size<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	stack<span class="token operator">-></span>size<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token comment">// 返回栈顶元素</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">Top_SeqStack</span><span class="token punctuation">(</span>SeqStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token operator">-></span>data<span class="token punctuation">[</span>stack<span class="token operator">-></span>size<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="38"></td><td><pre></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token comment">// 出栈</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token keyword">void</span> <span class="token function">Pop_SeqStack</span><span class="token punctuation">(</span>SeqStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	stack<span class="token operator">-></span>data<span class="token punctuation">[</span>stack<span class="token operator">-></span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	stack<span class="token operator">-></span>size<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="50"></td><td><pre></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token comment">// 判断是否为空</span></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsEmpty</span><span class="token punctuation">(</span>SeqStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>		<span class="token keyword">return</span> SEQSTACK_TRUE<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	<span class="token keyword">return</span> SEQSTACK_FALSE<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="61"></td><td><pre></pre></td></tr><tr><td data-num="62"></td><td><pre><span class="token comment">// 返回栈中元素的个数</span></pre></td></tr><tr><td data-num="63"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_SeqStack</span><span class="token punctuation">(</span>SeqStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token operator">-></span>size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="66"></td><td><pre></pre></td></tr><tr><td data-num="67"></td><td><pre><span class="token comment">// 清空栈</span></pre></td></tr><tr><td data-num="68"></td><td><pre><span class="token keyword">void</span> <span class="token function">Clear_SeqStack</span><span class="token punctuation">(</span>SeqStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> stack<span class="token operator">-></span>size<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>		stack<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>	stack<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="77"></td><td><pre></pre></td></tr><tr><td data-num="78"></td><td><pre><span class="token comment">// 销毁</span></pre></td></tr><tr><td data-num="79"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_SeqStack</span><span class="token punctuation">(</span>SeqStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="seqstackh"><a class="anchor" href="#seqstackh">#</a> SeqStack.h</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">SEQSTACK_H</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SEQSTACK_H</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 数组去模拟栈的顺序存储</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_SIZE</span> <span class="token expression"><span class="token number">1024</span></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SEQSTACK_TRUE</span> <span class="token expression"><span class="token number">1</span></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SEQSTACK_FALSE</span> <span class="token expression"><span class="token number">0</span></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">SEQSTACK</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">[</span>MAX_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">int</span> size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span>SeqStack<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 初始化栈</span></pre></td></tr><tr><td data-num="16"></td><td><pre>SeqStack<span class="token operator">*</span> <span class="token function">Init_SeqStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">// 入栈</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">void</span> <span class="token function">Push_SeqStack</span><span class="token punctuation">(</span>SeqStack<span class="token operator">*</span> stack<span class="token punctuation">,</span><span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">// 返回栈顶元素</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">Top_SeqStack</span><span class="token punctuation">(</span>SeqStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">// 出栈</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">void</span> <span class="token function">Pop_SeqStack</span><span class="token punctuation">(</span>SeqStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 判断是否为空</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsEmpty</span><span class="token punctuation">(</span>SeqStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">// 返回栈中元素的个数</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_SeqStack</span><span class="token punctuation">(</span>SeqStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// 清空栈</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">void</span> <span class="token function">Clear_SeqStack</span><span class="token punctuation">(</span>SeqStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">// 销毁</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_SeqStack</span><span class="token punctuation">(</span>SeqStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr></table></figure><h2 id="33栈的链式存储"><a class="anchor" href="#33栈的链式存储">#</a> 3.3 栈的链式存储</h2><h3 id="基本概念-4"><a class="anchor" href="#基本概念-4">#</a> <strong>基本概念</strong></h3><p>栈的链式存储结构简称链栈。</p><p><strong>思考如下问题</strong>：</p><p>栈只是栈顶来做插入和删除操作，栈顶放在链表的头部还是尾部呢？</p><p>由于单链表有头指针，而栈顶指针也是必须的，那干嘛不让他俩合二为一呢，所以比较好的办法就是把栈顶放在单链表的头部。另外都已经有了栈顶在头部了，单链表中比较常用的头结点也就失去了意义，通常对于链栈来说，是不需要头结点的。</p><h3 id="设计与实现-3"><a class="anchor" href="#设计与实现-3">#</a> <strong>设计与实现</strong></h3><p>链栈是一种特殊的线性表，链栈可以通过链式线性表来实现。</p><h4 id="08栈的链式存储c"><a class="anchor" href="#08栈的链式存储c">#</a> 08 栈的链式存储.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"LinkStack.h"</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">PERSON</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	LinkNode node<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">int</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span>Person<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token comment">// 创建栈</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	LinkStack<span class="token operator">*</span> stack <span class="token operator">=</span> <span class="token function">Init_LinkStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token comment">// 创建数据</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	Person p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3<span class="token punctuation">,</span> p4<span class="token punctuation">,</span> p5<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"aaa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"bbb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p3<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"ccc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p4<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"ddd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p5<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">"eee"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	p1<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	p2<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	p3<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	p4<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	p5<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token comment">// 入栈</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token comment">// 输出</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token comment">// 取出栈顶元素</span></pre></td></tr><tr><td data-num="37"></td><td><pre>		Person<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Name:%s Age:%d\n"</span><span class="token punctuation">,</span>p<span class="token operator">-></span>name<span class="token punctuation">,</span>p<span class="token operator">-></span>age<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>		<span class="token comment">// 弹出栈顶元素</span></pre></td></tr><tr><td data-num="40"></td><td><pre>		<span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token comment">// 销毁栈</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token function">FreeSpace_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="linkstackc"><a class="anchor" href="#linkstackc">#</a> LinkStack.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"LinkStack.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 初始化函数</span></pre></td></tr><tr><td data-num="4"></td><td><pre>LinkStack<span class="token operator">*</span> <span class="token function">Init_LinkStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	LinkStack<span class="token operator">*</span> stack <span class="token operator">=</span> <span class="token punctuation">(</span>LinkStack<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkStack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	stack<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 入栈</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">void</span> <span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">,</span> LinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	data<span class="token operator">-></span>next <span class="token operator">=</span> stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	stack<span class="token operator">-></span>size<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment">// 出栈</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token keyword">void</span> <span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token comment">// 第一个有效结点</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	LinkNode<span class="token operator">*</span> pNext <span class="token operator">=</span> stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> pNext<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	stack<span class="token operator">-></span>size<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token comment">// 返回栈顶元素</span></pre></td></tr><tr><td data-num="39"></td><td><pre>LinkNode<span class="token operator">*</span> <span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="48"></td><td><pre></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token comment">// 返回栈元素的个数</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token operator">-></span>size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="56"></td><td><pre></pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token comment">// 清空栈</span></pre></td></tr><tr><td data-num="58"></td><td><pre><span class="token keyword">void</span> <span class="token function">Clear_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	stack<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="65"></td><td><pre></pre></td></tr><tr><td data-num="66"></td><td><pre><span class="token comment">// 销毁栈</span></pre></td></tr><tr><td data-num="67"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="linkstackh"><a class="anchor" href="#linkstackh">#</a> LinkStack.h</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">LINKSTACK_H</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LINKSTACK_H</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 链式栈的结点</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LINKNODE</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">LINKNODE</span><span class="token operator">*</span> next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span>LinkNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 链式栈</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LINKSTACK</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	LinkNode head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">int</span> size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span>LinkStack<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">// 初始化函数</span></pre></td></tr><tr><td data-num="18"></td><td><pre>LinkStack<span class="token operator">*</span> <span class="token function">Init_LinkStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">// 入栈</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">void</span> <span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">,</span> LinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">// 出栈</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">void</span> <span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 返回栈顶元素</span></pre></td></tr><tr><td data-num="24"></td><td><pre>LinkNode<span class="token operator">*</span> <span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">// 返回栈元素的个数</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// 清空栈</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">void</span> <span class="token function">Clear_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">// 销毁栈</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr></table></figure><h2 id="34栈的应用案例"><a class="anchor" href="#34栈的应用案例">#</a> 3.4 栈的应用 (案例)</h2><h3 id="案例1-就近匹配"><a class="anchor" href="#案例1-就近匹配">#</a> <strong>案例 1: 就近匹配</strong></h3><p>几乎所有的编译器都具有检测括号是否匹配的能力，那么如何实现编译器中的符号成对检测？如下字符串:</p><p int="" a[4][4];="" int="" (*p)[4];="" p="">#include &lt;stdio.h&gt; int main()</p><p><strong>算法思路</strong></p><ul><li>从第一个字符开始扫描</li><li>当遇见普通字符时忽略，</li><li>当遇见左符号时压入栈中</li><li>当遇见右符号时从栈中弹出栈顶符号，并进行匹配</li><li>匹配成功：继续读入下一个字符</li><li>匹配失败：立即停止，并报错</li></ul><p><strong>结束</strong>：</p><ul><li>成功：所有字符扫描完毕，且栈为空</li><li>失败：匹配失败或所有字符扫描完毕但栈非空</li></ul><p><strong>总结</strong></p><ul><li><strong>当需要检测成对出现但又互不相邻的事物时可以使用栈 “后进先出” 的特性</strong></li><li><strong>栈非常适合于需要 “就近匹配” 的场合</strong></li></ul><h4 id="01-栈的应用_就近匹配c"><a class="anchor" href="#01-栈的应用_就近匹配c">#</a> 01 栈的应用_就近匹配.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"LinkStack.h"</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">MYCHAR</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	LinkNode node<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> pAddres<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">int</span> index<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span>MyChar<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsLeft</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">return</span> c <span class="token operator">==</span> <span class="token string">'('</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsRight</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">return</span> c <span class="token operator">==</span> <span class="token string">')'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>MyChar<span class="token operator">*</span> <span class="token function">CreateMyChar</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> p<span class="token punctuation">,</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	MyChar<span class="token operator">*</span> mychar <span class="token operator">=</span> <span class="token punctuation">(</span>MyChar<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyChar<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	mychar<span class="token operator">-></span>pAddres <span class="token operator">=</span> p<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	mychar<span class="token operator">-></span>index <span class="token operator">=</span> index<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token keyword">return</span> mychar<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">void</span> <span class="token function">ShowError</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">,</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pos<span class="token punctuation">;</span>i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">"1+2+6(dsf)df)sflp(sdfs)"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token comment">// 创建栈容器</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	LinkStack<span class="token operator">*</span> stack <span class="token operator">=</span> <span class="token function">Init_LinkStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> str<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>p <span class="token operator">!=</span> <span class="token string">'\0'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>		<span class="token comment">// 如果左括号 直接进栈</span></pre></td></tr><tr><td data-num="44"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsLeft</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>			<span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">CreateMyChar</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>		<span class="token comment">// 如果是右括号 从栈顶弹出元素 判断是不是左括号</span></pre></td></tr><tr><td data-num="48"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsRight</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>				MyChar<span class="token operator">*</span> mychar <span class="token operator">=</span> <span class="token punctuation">(</span>MyChar<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsLeft</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>mychar<span class="token operator">-></span>pAddres<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>					<span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>					<span class="token function">free</span><span class="token punctuation">(</span>mychar<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>				<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>			<span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"右括号没有匹配的左括号:\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>				<span class="token function">ShowError</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>				<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>		p<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>		index<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>		MyChar<span class="token operator">*</span> mychar <span class="token operator">=</span> <span class="token punctuation">(</span>MyChar<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"左括号没有匹配的右括号:\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>		<span class="token function">ShowError</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> mychar<span class="token operator">-></span>index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>		<span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>		<span class="token function">free</span><span class="token punctuation">(</span>mychar<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="linkstackc-2"><a class="anchor" href="#linkstackc-2">#</a> LinkStack.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"LinkStack.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 初始化函数</span></pre></td></tr><tr><td data-num="4"></td><td><pre>LinkStack<span class="token operator">*</span> <span class="token function">Init_LinkStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	LinkStack<span class="token operator">*</span> stack <span class="token operator">=</span> <span class="token punctuation">(</span>LinkStack<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkStack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	stack<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 入栈</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">void</span> <span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">,</span> LinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	data<span class="token operator">-></span>next <span class="token operator">=</span> stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	stack<span class="token operator">-></span>size<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 出栈</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">void</span> <span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token comment">// 第一个有效结点</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	LinkNode<span class="token operator">*</span> pNext <span class="token operator">=</span> stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> pNext<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	stack<span class="token operator">-></span>size<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token comment">// 返回栈顶元素</span></pre></td></tr><tr><td data-num="38"></td><td><pre>LinkNode<span class="token operator">*</span> <span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token comment">// 返回栈元素的个数</span></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token operator">-></span>size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre></pre></td></tr><tr><td data-num="56"></td><td><pre><span class="token comment">// 清空栈</span></pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token keyword">void</span> <span class="token function">Clear_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	stack<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="64"></td><td><pre></pre></td></tr><tr><td data-num="65"></td><td><pre><span class="token comment">// 销毁栈</span></pre></td></tr><tr><td data-num="66"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="linkstackh-2"><a class="anchor" href="#linkstackh-2">#</a> LinkStack.h</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">LINKSTACK_H</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LINKSTACK_H</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 链式栈的结点</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LINKNODE</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">LINKNODE</span><span class="token operator">*</span> next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span>LinkNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 链式栈</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LINKSTACK</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	LinkNode head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">int</span> size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span>LinkStack<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">// 初始化函数</span></pre></td></tr><tr><td data-num="18"></td><td><pre>LinkStack<span class="token operator">*</span> <span class="token function">Init_LinkStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">// 入栈</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">void</span> <span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">,</span> LinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">// 出栈</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">void</span> <span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 返回栈顶元素</span></pre></td></tr><tr><td data-num="24"></td><td><pre>LinkNode<span class="token operator">*</span> <span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">// 返回栈元素的个数</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// 清空栈</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">void</span> <span class="token function">Clear_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">// 销毁栈</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr></table></figure><h3 id="案例2中缀表达式和后缀表达式"><a class="anchor" href="#案例2中缀表达式和后缀表达式">#</a> <strong>案例 2：中缀表达式和后缀表达式</strong></h3><p><strong>后缀表达式</strong>（由波兰科学家在 20 世纪 50 年代提出）</p><ul><li><strong>将运算符放在数字后面 ===》 符合计算机运算</strong></li><li>我们习惯的数学表达式叫做中缀表达式 ===》符合人类思考习惯</li></ul><p><strong>实例</strong></p><ul><li><p>5 + 4 =&gt; 5 4 +</p></li><li><p>1 + 2 * 3 =&gt; 1 2 3 * +</p></li><li><p>8 + ( 3 – 1 ) * 5 =&gt; 8 3 1 – 5 * +</p></li></ul><p><strong>中缀转后缀算法</strong>：</p><p>遍历中缀表达式中的数字和符号：</p><ul><li><p>对于数字：直接输出</p></li><li><p>对于符号：</p><ul><li><p>左括号：进栈</p></li><li><p>运算符号：与栈顶符号进行优先级比较</p><ul><li><p>若栈顶符号优先级低：此符号进栈</p><p>（默认栈顶若是左括号，左括号优先级最低）</p></li><li><p>若栈顶符号优先级不低：将栈顶符号弹出并输出，之后进栈</p></li></ul></li><li><p>右括号：将栈顶符号弹出并输出，直到匹配左括号</p></li></ul></li></ul><p>遍历结束：将栈中的所有符号弹出并输出</p><h4 id="中缀转后缀伪代码-priority"><a class="anchor" href="#中缀转后缀伪代码-priority">#</a> <strong>中缀转后缀伪代码 priority</strong></h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">transform</span><span class="token punctuation">(</span>exp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	创建栈S；</pre></td></tr><tr><td data-num="4"></td><td><pre>	i<span class="token operator">=</span> <span class="token number">0</span>；</pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">while</span><span class="token punctuation">(</span>exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> ‘\<span class="token number">0</span>’<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> 为数字<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>			Output（exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>）<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> 为符号<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>			<span class="token keyword">while</span><span class="token punctuation">(</span>exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>优先级 <span class="token operator">&lt;=</span> 栈顶符号优先级<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>				output（栈顶符号）；</pre></td></tr><tr><td data-num="16"></td><td><pre>				Pop（S）<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>			<span class="token function">Push</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> 为左括号<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>			<span class="token function">Push</span><span class="token punctuation">(</span>S<span class="token punctuation">,</span> exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> 为右括号<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>			<span class="token keyword">while</span><span class="token punctuation">(</span>栈顶符号不为左括号<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="27"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>				output（栈顶符号）；</pre></td></tr><tr><td data-num="29"></td><td><pre>				Pop（S）<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>			从S中弹出左括号；</pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token keyword">else</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>			报错，停止循环；</pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>		i<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> ‘\<span class="token number">0</span>’<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>		<span class="token function">output</span><span class="token punctuation">(</span>栈顶符号<span class="token punctuation">)</span>；</pre></td></tr><tr><td data-num="42"></td><td><pre>		Pop（S）<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="02-中转表达时转后缀表达式c"><a class="anchor" href="#02-中转表达时转后缀表达式c">#</a> 02 中转表达时转后缀表达式.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"LinkStack.h"</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 判断是否是数字</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsNumber</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">return</span> c <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 判断是不是左括号</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsLeft</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">return</span> c <span class="token operator">==</span> <span class="token string">'('</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">// 判断是不是右括号</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsRight</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">return</span> c <span class="token operator">==</span> <span class="token string">')'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment">// 判断是不是运算符号</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsOperator</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">return</span> c <span class="token operator">==</span> <span class="token string">'+'</span> <span class="token operator">||</span> c <span class="token operator">==</span> <span class="token string">'-'</span> <span class="token operator">||</span> c <span class="token operator">==</span> <span class="token string">'*'</span> <span class="token operator">||</span> c <span class="token operator">==</span> <span class="token string">'/'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// 返回运算符号优先级</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">int</span> <span class="token function">GetPriority</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token string">'*'</span> <span class="token operator">||</span> c <span class="token operator">==</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token string">'+'</span> <span class="token operator">||</span> c <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">MYCHAR</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	LinkNode node<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token punctuation">&#125;</span>MyChar<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token comment">// 数字操作</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token keyword">void</span> <span class="token function">NumberOperate</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token comment">// 创建 MyChar</span></pre></td></tr><tr><td data-num="49"></td><td><pre>MyChar<span class="token operator">*</span> <span class="token function">CreateMyChar</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	MyChar<span class="token operator">*</span> mychar <span class="token operator">=</span> <span class="token punctuation">(</span>MyChar<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyChar<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>	mychar<span class="token operator">-></span>p <span class="token operator">=</span> p<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token keyword">return</span> mychar<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="54"></td><td><pre></pre></td></tr><tr><td data-num="55"></td><td><pre><span class="token comment">// 左括号的操作</span></pre></td></tr><tr><td data-num="56"></td><td><pre><span class="token keyword">void</span> <span class="token function">LeftOperate</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	<span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">CreateMyChar</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="59"></td><td><pre></pre></td></tr><tr><td data-num="60"></td><td><pre><span class="token comment">// 右括号操作</span></pre></td></tr><tr><td data-num="61"></td><td><pre><span class="token keyword">void</span> <span class="token function">RightOperate</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	<span class="token comment">// 先判断栈中有没有元素</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>		MyChar<span class="token operator">*</span> mychar <span class="token operator">=</span> <span class="token punctuation">(</span>MyChar<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>		<span class="token comment">// 如果匹配到左括号</span></pre></td></tr><tr><td data-num="66"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsLeft</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>mychar<span class="token operator">-></span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>			<span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>			<span class="token function">free</span><span class="token punctuation">(</span>mychar<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>			<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>		<span class="token comment">// 输出</span></pre></td></tr><tr><td data-num="72"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>mychar<span class="token operator">-></span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>		<span class="token comment">// 弹出</span></pre></td></tr><tr><td data-num="74"></td><td><pre>		<span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>		<span class="token comment">// 释放内存</span></pre></td></tr><tr><td data-num="76"></td><td><pre>		<span class="token function">free</span><span class="token punctuation">(</span>mychar<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="78"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="79"></td><td><pre></pre></td></tr><tr><td data-num="80"></td><td><pre><span class="token comment">// 运算符号的操作</span></pre></td></tr><tr><td data-num="81"></td><td><pre><span class="token keyword">void</span> <span class="token function">OperatorOperate</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="82"></td><td><pre>	<span class="token comment">// 先取出栈顶符号</span></pre></td></tr><tr><td data-num="83"></td><td><pre>	MyChar<span class="token operator">*</span> mychar <span class="token operator">=</span> <span class="token punctuation">(</span>MyChar<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>mychar <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>		<span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">CreateMyChar</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>	<span class="token comment">// 如果栈顶优先级低于当前字符的优先级 直接入栈</span></pre></td></tr><tr><td data-num="89"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">GetPriority</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>mychar<span class="token operator">-></span>p<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">GetPriority</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>		<span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">CreateMyChar</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>		<span class="token comment">//return;</span></pre></td></tr><tr><td data-num="92"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="93"></td><td><pre>	<span class="token comment">// 如果栈顶符号优先级不低</span></pre></td></tr><tr><td data-num="94"></td><td><pre>	<span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="95"></td><td><pre>		<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>			MyChar<span class="token operator">*</span> mychar2 <span class="token operator">=</span> <span class="token punctuation">(</span>MyChar<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="97"></td><td><pre>			<span class="token comment">// 如果优先级低 当前符号入栈</span></pre></td></tr><tr><td data-num="98"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">GetPriority</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>mychar2<span class="token operator">-></span>p<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">GetPriority</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="99"></td><td><pre>				<span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">CreateMyChar</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="100"></td><td><pre>				<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="101"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="102"></td><td><pre>			<span class="token comment">// 输出</span></pre></td></tr><tr><td data-num="103"></td><td><pre>			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>mychar2<span class="token operator">-></span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="104"></td><td><pre>			<span class="token comment">// 弹出</span></pre></td></tr><tr><td data-num="105"></td><td><pre>			<span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="106"></td><td><pre>			<span class="token comment">// 释放</span></pre></td></tr><tr><td data-num="107"></td><td><pre>			<span class="token function">free</span><span class="token punctuation">(</span>mychar2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="108"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="109"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="110"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="111"></td><td><pre></pre></td></tr><tr><td data-num="112"></td><td><pre><span class="token keyword">int</span> <span class="token function">main01</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="113"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">"8+(3-1)*5"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="114"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> str<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="115"></td><td><pre>	<span class="token comment">// 创建栈</span></pre></td></tr><tr><td data-num="116"></td><td><pre>	LinkStack<span class="token operator">*</span> stack <span class="token operator">=</span> <span class="token function">Init_LinkStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="117"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>p <span class="token operator">!=</span> <span class="token string">'\0'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="118"></td><td><pre>		<span class="token comment">// 如果是数字</span></pre></td></tr><tr><td data-num="119"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsNumber</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="120"></td><td><pre>			<span class="token function">NumberOperate</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="121"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>		<span class="token comment">// 如果左括号 直接进栈</span></pre></td></tr><tr><td data-num="123"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsLeft</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="124"></td><td><pre>			<span class="token function">LeftOperate</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="125"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="126"></td><td><pre>		<span class="token comment">// 如果是右括号</span></pre></td></tr><tr><td data-num="127"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsRight</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="128"></td><td><pre>			<span class="token function">RightOperate</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="129"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="130"></td><td><pre>		<span class="token comment">// 如果是运算符号</span></pre></td></tr><tr><td data-num="131"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsOperator</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="132"></td><td><pre>			<span class="token function">OperatorOperate</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="133"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="134"></td><td><pre>		p<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="135"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="136"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="137"></td><td><pre>		MyChar<span class="token operator">*</span> mychar <span class="token operator">=</span> <span class="token punctuation">(</span>MyChar<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="138"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>mychar<span class="token operator">-></span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="139"></td><td><pre>		<span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="140"></td><td><pre>		<span class="token function">free</span><span class="token punctuation">(</span>mychar<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="141"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="142"></td><td><pre>	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="143"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="144"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="linkstackc-3"><a class="anchor" href="#linkstackc-3">#</a> LinkStack.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"LinkStack.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 初始化函数</span></pre></td></tr><tr><td data-num="4"></td><td><pre>LinkStack<span class="token operator">*</span> <span class="token function">Init_LinkStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	LinkStack<span class="token operator">*</span> stack <span class="token operator">=</span> <span class="token punctuation">(</span>LinkStack<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkStack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	stack<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 入栈</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">void</span> <span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">,</span> LinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	data<span class="token operator">-></span>next <span class="token operator">=</span> stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	stack<span class="token operator">-></span>size<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 出栈</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">void</span> <span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token comment">// 第一个有效结点</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	LinkNode<span class="token operator">*</span> pNext <span class="token operator">=</span> stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> pNext<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	stack<span class="token operator">-></span>size<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token comment">// 返回栈顶元素</span></pre></td></tr><tr><td data-num="38"></td><td><pre>LinkNode<span class="token operator">*</span> <span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token comment">// 返回栈元素的个数</span></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token operator">-></span>size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre></pre></td></tr><tr><td data-num="56"></td><td><pre><span class="token comment">// 清空栈</span></pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token keyword">void</span> <span class="token function">Clear_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	stack<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="64"></td><td><pre></pre></td></tr><tr><td data-num="65"></td><td><pre><span class="token comment">// 销毁栈</span></pre></td></tr><tr><td data-num="66"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="linkstackh-3"><a class="anchor" href="#linkstackh-3">#</a> LinkStack.h</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">LINKSTACK_H</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LINKSTACK_H</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 链式栈的结点</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LINKNODE</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">LINKNODE</span><span class="token operator">*</span> next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span>LinkNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 链式栈</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LINKSTACK</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	LinkNode head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">int</span> size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span>LinkStack<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">// 初始化函数</span></pre></td></tr><tr><td data-num="18"></td><td><pre>LinkStack<span class="token operator">*</span> <span class="token function">Init_LinkStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">// 入栈</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">void</span> <span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">,</span> LinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">// 出栈</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">void</span> <span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 返回栈顶元素</span></pre></td></tr><tr><td data-num="24"></td><td><pre>LinkNode<span class="token operator">*</span> <span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">// 返回栈元素的个数</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// 清空栈</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">void</span> <span class="token function">Clear_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">// 销毁栈</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr></table></figure><h3><a class="anchor" href="#">#</a></h3><h3 id="案例3计算机如何基于后缀表达式计算"><a class="anchor" href="#案例3计算机如何基于后缀表达式计算">#</a> <strong>案例 3：计算机如何基于后缀表达式计算</strong></h3><p><strong>思考</strong></p><p>计算机是如何基于后缀表达式计算的？</p><p>例如：8 3 1 – 5 * +</p><p><strong>计算规则</strong></p><p>遍历后缀表达式中的数字和符号</p><ul><li><p>对于数字：进栈</p></li><li><p>对于符号：</p><ul><li><p>从栈中弹出右操作数</p></li><li><p>从栈中弹出左操作数</p></li><li><p>根据符号进行运算</p></li><li><p>将运算结果压入栈中</p></li></ul></li></ul><p>遍历结束：栈中的唯一数字为计算结果</p><h4 id="代码实现伪代码-express"><a class="anchor" href="#代码实现伪代码-express">#</a> <strong>代码实现（伪代码） express</strong></h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">compute</span><span class="token punctuation">(</span>exp<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	创建栈；</pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">while</span><span class="token punctuation">(</span> exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> ‘\<span class="token number">0</span>’<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token keyword">if</span>（exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>为数字）</pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>			Push（S<span class="token punctuation">,</span> exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>）<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>为符号<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token number">1.</span> 从栈顶弹出右操作数；</pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token number">2.</span> 从栈中弹出左操作数；</pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token number">3.</span> 根据符号进行运算；</pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token number">4.</span> Push（stack， 结果）；</pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token keyword">else</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>			报错，停止循环；</pre></td></tr><tr><td data-num="21"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		i<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token function">Size</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> exp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> ‘\<span class="token number">0</span>’<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		栈中唯一的数字为运算结果；</pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	返回结果；</pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="03-根据后缀表达式求解c"><a class="anchor" href="#03-根据后缀表达式求解c">#</a> 03 根据后缀表达式求解.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"LinkStack.h"</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">int</span> <span class="token function">IsNumber2</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">return</span> c <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">MYNUM</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	LinkNode node<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">int</span> val<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span>MyNum<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">int</span> <span class="token function">Caculate</span><span class="token punctuation">(</span><span class="token keyword">int</span> left<span class="token punctuation">,</span><span class="token keyword">int</span> right<span class="token punctuation">,</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">switch</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">case</span> <span class="token string">'+'</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="21"></td><td><pre>		ret <span class="token operator">=</span> left <span class="token operator">+</span> right<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token keyword">case</span> <span class="token string">'-'</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		ret <span class="token operator">=</span> left <span class="token operator">-</span> right<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token keyword">case</span> <span class="token string">'*'</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="27"></td><td><pre>		ret <span class="token operator">=</span> left <span class="token operator">*</span> right<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token keyword">case</span> <span class="token string">'/'</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		ret <span class="token operator">=</span> left <span class="token operator">/</span> right<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token keyword">default</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token keyword">return</span> ret<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token comment">// 后缀表达式</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">"831-5*+"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> str<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token comment">// 创建栈</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	LinkStack<span class="token operator">*</span> stack <span class="token operator">=</span> <span class="token function">Init_LinkStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">*</span>p <span class="token operator">!=</span> <span class="token string">'\0'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>		<span class="token comment">// 如果是数字 直接入栈</span></pre></td></tr><tr><td data-num="46"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">IsNumber2</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>			MyNum<span class="token operator">*</span> num <span class="token operator">=</span> <span class="token punctuation">(</span>MyNum<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyNum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>			num<span class="token operator">-></span>val <span class="token operator">=</span> <span class="token operator">*</span>p <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>			<span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>		<span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>			<span class="token comment">// 先从栈中弹出右操作数</span></pre></td></tr><tr><td data-num="53"></td><td><pre>			MyNum<span class="token operator">*</span> right <span class="token operator">=</span> <span class="token punctuation">(</span>MyNum<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>			<span class="token keyword">int</span> rightNum <span class="token operator">=</span> right<span class="token operator">-></span>val<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>			<span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>			<span class="token function">free</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>			<span class="token comment">// 取出左操作数</span></pre></td></tr><tr><td data-num="58"></td><td><pre>			MyNum<span class="token operator">*</span> left <span class="token operator">=</span> <span class="token punctuation">(</span>MyNum<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>			<span class="token keyword">int</span> leftNum <span class="token operator">=</span> left<span class="token operator">-></span>val<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>			<span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>			<span class="token function">free</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>			<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">Caculate</span><span class="token punctuation">(</span>leftNum<span class="token punctuation">,</span> rightNum<span class="token punctuation">,</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>			<span class="token comment">// 结果入栈</span></pre></td></tr><tr><td data-num="64"></td><td><pre>			MyNum<span class="token operator">*</span> num <span class="token operator">=</span> <span class="token punctuation">(</span>MyNum<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyNum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>			num<span class="token operator">-></span>val <span class="token operator">=</span> ret<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>			<span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> <span class="token punctuation">(</span>LinkNode<span class="token operator">*</span><span class="token punctuation">)</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>		p<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>		MyNum<span class="token operator">*</span> num <span class="token operator">=</span>  <span class="token punctuation">(</span>MyNum<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"运算结果是:%d\n"</span><span class="token punctuation">,</span>num<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>		<span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>		<span class="token function">free</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>	<span class="token comment">// 释放栈</span></pre></td></tr><tr><td data-num="77"></td><td><pre>	<span class="token function">FreeSpace_LinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="80"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="linkstackc-4"><a class="anchor" href="#linkstackc-4">#</a> LinkStack.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"LinkStack.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 初始化函数</span></pre></td></tr><tr><td data-num="4"></td><td><pre>LinkStack<span class="token operator">*</span> <span class="token function">Init_LinkStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	LinkStack<span class="token operator">*</span> stack <span class="token operator">=</span> <span class="token punctuation">(</span>LinkStack<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>LinkStack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	stack<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 入栈</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">void</span> <span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">,</span> LinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	data<span class="token operator">-></span>next <span class="token operator">=</span> stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	stack<span class="token operator">-></span>size<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 出栈</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">void</span> <span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token comment">// 第一个有效结点</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	LinkNode<span class="token operator">*</span> pNext <span class="token operator">=</span> stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> pNext<span class="token operator">-></span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	stack<span class="token operator">-></span>size<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token comment">// 返回栈顶元素</span></pre></td></tr><tr><td data-num="38"></td><td><pre>LinkNode<span class="token operator">*</span> <span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token comment">// 返回栈元素的个数</span></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>	<span class="token keyword">return</span> stack<span class="token operator">-></span>size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre></pre></td></tr><tr><td data-num="56"></td><td><pre><span class="token comment">// 清空栈</span></pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token keyword">void</span> <span class="token function">Clear_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	stack<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	stack<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="64"></td><td><pre></pre></td></tr><tr><td data-num="65"></td><td><pre><span class="token comment">// 销毁栈</span></pre></td></tr><tr><td data-num="66"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>stack <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="linkstackh-4"><a class="anchor" href="#linkstackh-4">#</a> LinkStack.h</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">LINKSTACK_H</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LINKSTACK_H</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 链式栈的结点</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LINKNODE</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">LINKNODE</span><span class="token operator">*</span> next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span>LinkNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 链式栈</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">LINKSTACK</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	LinkNode head<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">int</span> size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span>LinkStack<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">// 初始化函数</span></pre></td></tr><tr><td data-num="18"></td><td><pre>LinkStack<span class="token operator">*</span> <span class="token function">Init_LinkStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">// 入栈</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">void</span> <span class="token function">Push_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">,</span> LinkNode<span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">// 出栈</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">void</span> <span class="token function">Pop_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 返回栈顶元素</span></pre></td></tr><tr><td data-num="24"></td><td><pre>LinkNode<span class="token operator">*</span> <span class="token function">Top_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">// 返回栈元素的个数</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// 清空栈</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">void</span> <span class="token function">Clear_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">// 销毁栈</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_LinkStack</span><span class="token punctuation">(</span>LinkStack<span class="token operator">*</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr></table></figure><h2 id="35队列queue"><a class="anchor" href="#35队列queue">#</a> 3.5 队列 (Queue)</h2><h3 id="队列基本概念"><a class="anchor" href="#队列基本概念">#</a> 队列基本概念</h3><p>队列是一种特殊的受限制的线性表。</p><p><strong>队列（queue）是只允许在一端进行插入操作，而在另一端进行删除操作的线性表。</strong></p><p>队列是一种先进先出的（First In First Out）的线性表，简称 FIFO。允许插入的一端为队尾，允许删除的一端为队头。队列不允许在中间部位进行操作！假设队列是 q=（a1，a2，……，an），那么 a1 就是队头元素，而 an 是队尾元素。这样我们就可以删除时，总是从 a1 开始，而插入时，总是在队列最后。这也比较符合我们通常生活中的习惯，排在第一个的优先出列，最后来的当然排在队伍最后。如下图：</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112112133488.png" alt="img"></p><h3 id="队列常用操作"><a class="anchor" href="#队列常用操作">#</a> 队列常用操作</h3><ul><li>创建队列</li><li>销毁队列</li><li>清空队列</li><li>进队列</li><li>出队列</li><li>获取队头元素</li><li>获取队列的长度</li></ul><h3 id="队列的抽象数据类型"><a class="anchor" href="#队列的抽象数据类型">#</a> <strong>队列的抽象数据类型</strong></h3><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre>ADT 队列（Queue）</pre></td></tr><tr><td data-num="2"></td><td><pre>Data</pre></td></tr><tr><td data-num="3"></td><td><pre>	通线性表。元素具有相同的类型，相邻元素具有前驱后继关系。</pre></td></tr><tr><td data-num="4"></td><td><pre>Operation</pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 初始化操作，建立一个空队列 Q</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	InitQueue（<span class="token operator">*</span>Q）；</pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 若队列 Q 存储，则销毁它。</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">DestroyQueue</span><span class="token punctuation">(</span><span class="token operator">*</span>Q<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// 将队列 Q 清空</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">ClearQueue</span><span class="token punctuation">(</span><span class="token operator">*</span>Q<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// 若队列为空则返回 true，否则返回 false</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">QueueEmpty</span><span class="token punctuation">(</span>Q<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token comment">// 若队列 Q 存在且非空，用 e 返回队列 Q 的队头元素</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token function">GetHead</span><span class="token punctuation">(</span>Q<span class="token punctuation">,</span> <span class="token operator">*</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">// 若队列 Q 存在，插入新元素 e 到队列 Q 中并成为队尾元素。</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token function">EnQueue</span><span class="token punctuation">(</span><span class="token operator">*</span>Q<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token comment">// 删除队列 Q 中的队头元素，并用 e 返回其值</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token function">DeQueue</span><span class="token punctuation">(</span><span class="token operator">*</span>Q<span class="token punctuation">,</span> <span class="token operator">*</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token comment">// 返回队列 Q 的元素个数</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token function">QueueLength</span><span class="token punctuation">(</span>Q<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>endADT</pre></td></tr></table></figure><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112112135591.png" alt="image-20211211213556278"></p><h3 id="队列的顺序存储"><a class="anchor" href="#队列的顺序存储">#</a> 队列的顺序存储</h3><h4 id="基本概念-5"><a class="anchor" href="#基本概念-5">#</a> 基本概念</h4><p><strong>队列也是一种特殊的线性表；可以用线性表顺序存储来模拟队列。</strong></p><h4 id="05-队列的顺序存储c"><a class="anchor" href="#05-队列的顺序存储c">#</a> 05 队列的顺序存储.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"SeqQueue.h"</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">PERSON</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span>Person<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token comment">// 创建队列</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	SeqQueue<span class="token operator">*</span> queue <span class="token operator">=</span> <span class="token function">Init_SeqQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">// 创建数据</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	Person p1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"aaa"</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	Person p2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"bbb"</span><span class="token punctuation">,</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	Person p3 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"ccc"</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	Person p4 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"ddd"</span><span class="token punctuation">,</span> <span class="token number">40</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	Person p5 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"eee"</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token comment">// 数据入队列</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token function">Push_SeqQueue</span><span class="token punctuation">(</span>queue<span class="token punctuation">,</span> <span class="token operator">&amp;</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token function">Push_SeqQueue</span><span class="token punctuation">(</span>queue<span class="token punctuation">,</span> <span class="token operator">&amp;</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token function">Push_SeqQueue</span><span class="token punctuation">(</span>queue<span class="token punctuation">,</span> <span class="token operator">&amp;</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token function">Push_SeqQueue</span><span class="token punctuation">(</span>queue<span class="token punctuation">,</span> <span class="token operator">&amp;</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token function">Push_SeqQueue</span><span class="token punctuation">(</span>queue<span class="token punctuation">,</span> <span class="token operator">&amp;</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token comment">// 输出队尾元素</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	Person<span class="token operator">*</span> backPerson <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Back_SeqQueue</span><span class="token punctuation">(</span>queue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Name:%s Age:%d\n"</span><span class="token punctuation">,</span>backPerson<span class="token operator">-></span>name<span class="token punctuation">,</span>backPerson<span class="token operator">-></span>age<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token comment">// 输出</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">Size_SeqQueue</span><span class="token punctuation">(</span>queue<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token comment">// 取出队头元素</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		Person<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span>Person<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">Front_SeqQueue</span><span class="token punctuation">(</span>queue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Name:%s Age:%d\n"</span><span class="token punctuation">,</span>p<span class="token operator">-></span>name<span class="token punctuation">,</span>p<span class="token operator">-></span>age<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token comment">// 从队头弹出元素</span></pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token function">Pop_SeqQueue</span><span class="token punctuation">(</span>queue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token comment">// 销毁队列</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token function">FreeSpace_SeqQueue</span><span class="token punctuation">(</span>queue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="seqqueuec"><a class="anchor" href="#seqqueuec">#</a> SeqQueue.c</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"SeqQueue.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 初始化</span></pre></td></tr><tr><td data-num="4"></td><td><pre>SeqQueue<span class="token operator">*</span> <span class="token function">Init_SeqQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	SeqQueue<span class="token operator">*</span> queue <span class="token operator">=</span> <span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>SeqQueue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX_SIZE<span class="token punctuation">;</span>i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		queue<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	queue<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">return</span> queue<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 入队</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">void</span> <span class="token function">Push_SeqQueue</span><span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span> queue<span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">// 数组左边当做队头</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>queue <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>queue<span class="token operator">-></span>size <span class="token operator">==</span> MAX_SIZE<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	queue<span class="token operator">-></span>data<span class="token punctuation">[</span>queue<span class="token operator">-></span>size<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	queue<span class="token operator">-></span>size<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">// 返回队头元素</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">Front_SeqQueue</span><span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span> queue<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>queue <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>queue<span class="token operator">-></span>size <span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token keyword">return</span> queue<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token comment">// 出队</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token keyword">void</span> <span class="token function">Pop_SeqQueue</span><span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span> queue<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token comment">// 需要移动元素</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>queue <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>queue<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> queue<span class="token operator">-></span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>		queue<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> queue<span class="token operator">-></span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>	queue<span class="token operator">-></span>size<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="54"></td><td><pre></pre></td></tr><tr><td data-num="55"></td><td><pre><span class="token comment">// 返回队尾元素</span></pre></td></tr><tr><td data-num="56"></td><td><pre><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">Back_SeqQueue</span><span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span> queue<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>queue <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>queue<span class="token operator">-></span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	<span class="token keyword">return</span> queue<span class="token operator">-></span>data<span class="token punctuation">[</span>queue<span class="token operator">-></span>size<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="65"></td><td><pre></pre></td></tr><tr><td data-num="66"></td><td><pre><span class="token comment">// 返回大小</span></pre></td></tr><tr><td data-num="67"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_SeqQueue</span><span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span> queue<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>queue <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>	<span class="token keyword">return</span> queue<span class="token operator">-></span>size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="73"></td><td><pre></pre></td></tr><tr><td data-num="74"></td><td><pre><span class="token comment">// 清空队列</span></pre></td></tr><tr><td data-num="75"></td><td><pre><span class="token keyword">void</span> <span class="token function">Clear_SeqQueue</span><span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span> queue<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>queue <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>	queue<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="80"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="81"></td><td><pre></pre></td></tr><tr><td data-num="82"></td><td><pre><span class="token comment">// 销毁</span></pre></td></tr><tr><td data-num="83"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_SeqQueue</span><span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span> queue<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>queue <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>queue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="88"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="seqqueueh"><a class="anchor" href="#seqqueueh">#</a> SeqQueue.h</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">SEQQUEUE_H</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SEQQUEUE_H</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_SIZE</span> <span class="token expression"><span class="token number">1024</span></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 顺序队列结构体</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">SEQQUEUE</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">[</span>MAX_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">int</span> size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span>SeqQueue<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 初始化</span></pre></td></tr><tr><td data-num="14"></td><td><pre>SeqQueue<span class="token operator">*</span> <span class="token function">Init_SeqQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 入队</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">void</span> <span class="token function">Push_SeqQueue</span><span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span> queue<span class="token punctuation">,</span><span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">// 返回队头元素</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">Front_SeqQueue</span><span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span> queue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">// 出队</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">void</span> <span class="token function">Pop_SeqQueue</span><span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span> queue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">// 返回队尾元素</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">Back_SeqQueue</span><span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span> queue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 返回大小</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">int</span> <span class="token function">Size_SeqQueue</span><span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span> queue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">// 清空队列</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">void</span> <span class="token function">Clear_SeqQueue</span><span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span> queue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// 销毁</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">void</span> <span class="token function">FreeSpace_SeqQueue</span><span class="token punctuation">(</span>SeqQueue<span class="token operator">*</span> queue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></pre></td></tr></table></figure><h1 id="4树和二叉树"><a class="anchor" href="#4树和二叉树">#</a> 4. 树和二叉树</h1><h2 id="41树"><a class="anchor" href="#41树">#</a> 4.1 树</h2><h3 id="树的基本概念"><a class="anchor" href="#树的基本概念">#</a> 树的基本概念</h3><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121645903.png" alt="img"></p><ul><li>树的定义：</li></ul><p>由一个或多个 (n≥0) 结点组成的有限集合 T，有且仅有一个结点称为根（root），当 n&gt;1 时，其余的结点分为<strong> m (m≥0) 个互不相交的有限集合</strong> T1,T2，…，Tm。每个集合本身又是棵树，被称作这个根的子树 。</p><ul><li><p>树的结构特点</p><ul><li><p>非线性结构，有一个直接前驱，但可能有多个直接后继（1:n）</p></li><li><p>树的定义具有递归性，树中还有树。</p></li><li><p>树可以为空，即节点个数为 0。</p></li></ul></li><li><p>若干术语</p><ul><li>根  即根结点 (没有前驱)</li><li>叶子  即终端结点 (没有后继)</li><li>森林  指 m 棵不相交的树的集合 (例如删除 A 后的子树个数)</li><li>有序树  结点各子树从左至右有序，不能互换（左为第一）</li><li>无序树  结点各子树可互换位置。</li><li>双亲  即上层的那个结点 (直接前驱) parent</li><li>孩子  即下层结点的子树 (直接后继) child</li><li>兄弟  同一双亲下的同层结点（孩子之间互称兄弟）sibling</li><li>堂兄弟  即双亲位于同一层的结点（但并非同一双亲）cousin</li><li>祖先  即从根到该结点所经分支的所有结点</li><li>子孙  即该结点下层子树中的任一结点</li></ul></li></ul><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121645888.png" alt="img"></p><ul><li>结点  即树的数据元素</li><li>结点的度  结点挂接的子树数（有几个直接后继就是几度）</li><li>结点的层次  从根到该结点的层数（根结点算第一层）</li><li>终端结点  即度为 0 的结点，即叶子</li><li>分支结点  除树根以外的结点（也称为内部结点）</li><li>树的度  所有结点度中的最大值（Max {各结点的度}）</li><li>树的深度 (或高度)  指所有结点中最大的层数（Max {各结点的层次}）</li></ul><p>上图中的结点数＝ 13，树的度＝ 3，树的深度＝ 4</p><h3 id="树的表示法"><a class="anchor" href="#树的表示法">#</a> 树的表示法</h3><h4 id="图形表示法"><a class="anchor" href="#图形表示法">#</a> 图形表示法</h4><p><strong>事物之间的逻辑关系</strong>可以通过数的形式很直观的表示出来，如下图：</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121646875.png" alt="img"></p><h4 id="广义表表示法"><a class="anchor" href="#广义表表示法">#</a> 广义表表示法</h4><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121647361.png" alt="img"></p><p>用广义表表示法表示上图：</p><p>中国（河北（保定，石家庄），广东（广州，东莞），山东（青岛，济南））</p><p><strong>根作为由子树森林组成的表的名字写在表的左边。</strong></p><h4 id="左孩子右兄弟表示法"><a class="anchor" href="#左孩子右兄弟表示法">#</a> 左孩子右兄弟表示法</h4><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121646817.png" alt="img"></p><p>左孩子右兄弟表示法可以将一颗多叉树转化为一颗二叉树：</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121646900.png" alt="img"></p><p>节点的结构：</p><p>​ <img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121646907.png" alt="img"></p><p>节点有两个指针域，其中一个指针指向子节点，另一个指针指向其兄弟节点。</p><h3 id="树的结构"><a class="anchor" href="#树的结构">#</a> 树的结构</h3><h4 id="树的逻辑结构"><a class="anchor" href="#树的逻辑结构">#</a> 树的逻辑结构</h4><p>树的逻辑结构特点：</p><p>一对多（1:n），有多个直接后继（如家谱树、目录树等等），但只有一个根结点，且子树之间互不相交。</p><h4 id="树的存储结构"><a class="anchor" href="#树的存储结构">#</a> 树的存储结构</h4><p>树的存储仍然有两种方式：</p><ul><li><strong>顺序存储</strong></li></ul><p><strong>可规定为</strong>：从上至下、从左至右将树的结点依次存入内存。</p><p><strong>重大缺陷</strong>：复原<strong>困难</strong>（不能唯一复原就没有实用价值）。</p><ul><li><strong>链式存储</strong></li></ul><p><strong>可用多重链表</strong>：一个前趋指针，n 个后继指针。</p><p><strong>细节问题</strong>：树中结点的结构类型样式该如何设计？</p><p>​ 即应该设计成 “等长” 还是 “不等长”？</p><p><strong>缺点</strong>：等长结构太浪费（每个结点的度不一定相同）；</p><p>不等长结构太复杂（要定义好多种结构类型）。</p><p>以上两种存储方式都存在重大缺陷，应该如何解决呢？</p><p>计算机实现各种不同进制的运算是通过先研究最简单、最有规律的二进制运算规律，然后设法把各种不同进制的运算转化二进制运算。树的存储也可以通过先研究最简单、最有规律的树，然后设法把一般的树转化为这种简单的树，这种树就是<strong>二叉树</strong>。</p><h2 id="42二叉树"><a class="anchor" href="#42二叉树">#</a> 4.2 二叉树</h2><h3 id="二叉树基本概念"><a class="anchor" href="#二叉树基本概念">#</a> 二叉树基本概念</h3><p>Ø <strong>定义：</strong></p><p>n（n≥0）个结点的有限集合，由一个根结点以及两棵互不相交的、分别称为左子树和右子树的二叉树组成 。</p><p>Ø <strong>逻辑结构：</strong></p><p>一对二（1：2）</p><p>Ø <strong>基本特征:</strong></p><p>n 每个结点最多只有两棵子树（<strong>不存在度大于 2 的结点</strong>）；</p><p>n 左子树和右子树次序不能颠倒（<strong>有序树</strong>）。</p><p>Ø <strong>基本形态:</strong></p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121648537.png" alt="img"></p><p>l <strong>问题：</strong></p><p>具有 3 个结点的二叉树可能有几种不同形态？普通树呢？</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121648551.png" alt="img"></p><p>二叉树可以画出五种形态，但是普通的数只能有两种形态。</p><p>l <strong>二叉树性质</strong></p><p>n 性质 1: 在二叉树的第 i 层上至多有 2i-1 个结点（i&gt;0）</p><p>n 性质 2: 深度为 k 的二叉树至多有 2k-1 个结点（k&gt;0）</p><p>n 性质 3: 对于任何一棵二叉树，若度为 2 的结点数有 n2 个，则叶子数（n0）必定为 n2＋1 （即 n0=n2+1）</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121648558.gif" alt="*"> 概念解释：</p><p>² <strong>满二叉树</strong></p><p>一棵深度为 k 且有 2k -1 个结点的二叉树。</p><p>​ <strong>特点：每层都 “充满” 了结点</strong></p><p>​ <strong><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121648564.png" alt="img"></strong></p><p>² <strong>完全二叉树</strong></p><p>除最后一层外，每一层上的<a target="_blank" rel="noopener" href="http://baike.baidu.com/view/47398.htm"><strong>节点</strong></a>数均达到最大值；在最后一层上只缺少右边的若干<a target="_blank" rel="noopener" href="http://baike.baidu.com/view/549491.htm"><strong>结点</strong></a>。</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121648570.png" alt="img"></p><p><strong>理解：k-1 层与满二叉树完全相同，第 k 层结点尽力靠左</strong></p><p>n 性质 4: 具有 n 个结点的完全二叉树的深度必为<strong>ë<strong><strong>log2n</strong></strong>û****+1</strong></p><p>n <strong>性质 5: 对完全二叉树，若从上至下、从左至右编号，则编号为 i 的结点，其左孩子编号必为 2i，其右孩子编号必为 2i＋1；其双亲的编号必为 i/2（i＝1 时为根，除外）</strong></p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121649949.png" alt="img"></p><p>使用此性质可以使用完全二叉树实现树的顺序存储。</p><p>如果不是完全二叉树咋整？？？</p><p>------ 将其转换成完全二叉树即可</p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121648934.png" alt="img"></p><p><strong>缺点：①浪费空间；②插入、删除不便</strong></p><h3 id="二叉树的表示"><a class="anchor" href="#二叉树的表示">#</a> 二叉树的表示</h3><p>Ø <strong>二叉链表示法</strong></p><p>一般从根结点开始存储。相应地，访问树中结点时也只能从根开始。</p><p>n <strong>存储结构</strong></p><p><strong><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121649857.png" alt="img"></strong></p><p>n <strong>结点数据类型定义：</strong></p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">BiTNode</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token keyword">int</span>		data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">BiTNode</span> <span class="token operator">*</span>lchild<span class="token punctuation">,</span> <span class="token operator">*</span>rchild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span>BiTNode<span class="token punctuation">,</span> <span class="token operator">*</span>BiTree<span class="token punctuation">;</span></pre></td></tr></table></figure><p>Ø <strong>三叉链表表示法</strong></p><p>n <strong>存储结构</strong></p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121649338.png" alt="img"></p><p>每个节点有三个指针域，其中两个分别指向子节点（左孩子，右孩子），还有一共指针指向该节点的父节点。</p><p>n <strong>节点数据类型定义</strong></p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 三叉链表</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">TriTNode</span> </pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">int</span> data<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 左右孩子指针</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">TriTNode</span> <span class="token operator">*</span>lchild<span class="token punctuation">,</span> <span class="token operator">*</span>rchild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">TriTNode</span> <span class="token operator">*</span>parent<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span>TriTNode<span class="token punctuation">,</span> <span class="token operator">*</span>TriTree<span class="token punctuation">;</span></pre></td></tr></table></figure><h3 id="二叉树的遍历"><a class="anchor" href="#二叉树的遍历">#</a> 二叉树的遍历</h3><p>Ø 遍历定义</p><p>指按某条搜索路线<strong>遍访每个结点且不重复</strong>（又称周游）。</p><p>Ø 遍历用途</p><p>它是树结构插入、删除、修改、查找和排序运算的前提，是二叉树一切运算的基础和核心。</p><p>Ø 遍历方法</p><p>牢记一种约定，<strong>对每个结点的查看都是 “先左后右”</strong> 。</p><p>限定先左后右，树的遍历有三种实现方案：</p><p><strong>D</strong>LR L<strong>D</strong>R LR<strong>D</strong></p><p><strong>先</strong> (<strong>根</strong>) 序遍历 <strong>中</strong> (<strong>根</strong>) 序遍历 <strong>后</strong> (<strong>根</strong>) 序遍历</p><p>n <strong>DLR</strong> <strong>— 先序遍历，即先根再左再右</strong></p><p>n <strong>LDR</strong> <strong>— 中序遍历，即先左再根再右</strong></p><p>n <strong>LRD</strong> <strong>— 后序遍历，即先左再右再根</strong></p><p><strong>注：“先、中、后” 的意思是指访问的结点 D 是先于子树出现还是后于子树出现。</strong></p><p><strong>从递归的角度看，这三种算法是完全相同的，或者说这三种遍历算法的访问路径是相同的，只是访问结点的时机不同。</strong></p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121650744.png" alt="img"></p><p>​ 从虚线的出发点到终点的路径上，每个结点经过 3 次。</p><p>n <strong>第 1 次经过时访问＝先序遍历</strong></p><p>n <strong>第 2 次经过时访问＝中序遍历</strong></p><p>n <strong>第 3 次经过时访问＝后序遍历</strong></p><p><strong>案例：</strong></p><p><img data-src="https://cdn.jsdelivr.net/gh/1910853272/image/img/202112121650751.png" alt="img"></p><h4 id="07-二叉树递归遍历"><a class="anchor" href="#07-二叉树递归遍历">#</a> 07 二叉树递归遍历</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 二叉树结点</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">BINARYNODE</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">BINARYNODE</span><span class="token operator">*</span> lchild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">BINARYNODE</span><span class="token operator">*</span> rchild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span>BinaryNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 递归遍历</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">void</span> <span class="token function">Recursion</span><span class="token punctuation">(</span>BinaryNode<span class="token operator">*</span> root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token comment">// 再遍历左子树</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token function">Recursion</span><span class="token punctuation">(</span>root<span class="token operator">-></span>lchild<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token comment">// 再遍历右子树</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token function">Recursion</span><span class="token punctuation">(</span>root<span class="token operator">-></span>rchild<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token comment">// 先访问根结点</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> root<span class="token operator">-></span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token keyword">void</span> <span class="token function">CresteBinaryTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> </pre></td></tr><tr><td data-num="30"></td><td><pre>	</pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token comment">// 创建结点</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	BinaryNode node1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	BinaryNode node2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	BinaryNode node3 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	BinaryNode node4 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	BinaryNode node5 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	BinaryNode node6 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">'F'</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	BinaryNode node7 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">'G'</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	BinaryNode node8 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre></pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token comment">// 建立结点关系</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	node1<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token operator">&amp;</span>node2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	node1<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token operator">&amp;</span>node6<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	node2<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token operator">&amp;</span>node3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	node3<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token operator">&amp;</span>node4<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	node3<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token operator">&amp;</span>node5<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	node6<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token operator">&amp;</span>node7<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	node7<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token operator">&amp;</span>node8<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre></pre></td></tr><tr><td data-num="51"></td><td><pre>	<span class="token comment">// 递归遍历</span></pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token function">Recursion</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>node1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	</pre></td></tr><tr><td data-num="54"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre></pre></td></tr><tr><td data-num="56"></td><td><pre></pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	</pre></td></tr><tr><td data-num="59"></td><td><pre>	<span class="token function">CresteBinaryTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre></pre></td></tr><tr><td data-num="61"></td><td><pre>	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="08-二叉树非递归遍历"><a class="anchor" href="#08-二叉树非递归遍历">#</a> 08 二叉树非递归遍历</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">"LinkStack.h"</span></span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 二叉树结点 二叉链表</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_PTNode</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">_PTNode</span><span class="token operator">*</span> lchild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">_PTNode</span><span class="token operator">*</span> rchild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span>PTNode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 递归遍历</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">void</span> <span class="token function">RecursionBiTree</span><span class="token punctuation">(</span>PTNode<span class="token operator">*</span> root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token comment">//printf ("% c", root->ch); // 先序遍历</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token function">RecursionBiTree</span><span class="token punctuation">(</span>root<span class="token operator">-></span>lchild<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> root<span class="token operator">-></span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 中序遍历</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token function">RecursionBiTree</span><span class="token punctuation">(</span>root<span class="token operator">-></span>rchild<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token comment">//printf ("% c", root->ch); // 后序遍历</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment">// 非递归的方式遍历二叉树</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token keyword">void</span> <span class="token function">NonRecursion01</span><span class="token punctuation">(</span>PTNode<span class="token operator">*</span> root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	</pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token comment">// 创建栈</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	LinkStack<span class="token operator">*</span> stack <span class="token operator">=</span>  <span class="token function">InitLinkStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	</pre></td></tr><tr><td data-num="32"></td><td><pre>	PTNode<span class="token operator">*</span> pChild <span class="token operator">=</span> root<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token function">PushLinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">IsEmptyLinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span> <span class="token operator">||</span> pChild <span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		</pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token keyword">while</span> <span class="token punctuation">(</span>pChild <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c\n"</span><span class="token punctuation">,</span>pChild<span class="token operator">-></span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span>pChild <span class="token operator">!=</span> root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>				<span class="token function">PushLinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> pChild<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>			pChild <span class="token operator">=</span> pChild<span class="token operator">-></span>lchild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="43"></td><td><pre></pre></td></tr><tr><td data-num="44"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">IsEmptyLinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>			pChild <span class="token operator">=</span> <span class="token punctuation">(</span>PTNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">TopLinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>			<span class="token function">PopLinkStack</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>			pChild <span class="token operator">=</span> pChild<span class="token operator">-></span>rchild<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="51"></td><td><pre></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token comment">// 测试</span></pre></td></tr><tr><td data-num="53"></td><td><pre><span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="54"></td><td><pre></pre></td></tr><tr><td data-num="55"></td><td><pre>	<span class="token comment">// 创建结点</span></pre></td></tr><tr><td data-num="56"></td><td><pre>	PTNode node1<span class="token punctuation">,</span> node2<span class="token punctuation">,</span> node3<span class="token punctuation">,</span> node4<span class="token punctuation">,</span> node5<span class="token punctuation">,</span> node6<span class="token punctuation">,</span> node7<span class="token punctuation">,</span> node8<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	node1<span class="token punctuation">.</span>ch <span class="token operator">=</span> <span class="token string">'A'</span><span class="token punctuation">;</span> node1<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> node1<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>	node2<span class="token punctuation">.</span>ch <span class="token operator">=</span> <span class="token string">'B'</span><span class="token punctuation">;</span> node2<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> node2<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>	node3<span class="token punctuation">.</span>ch <span class="token operator">=</span> <span class="token string">'C'</span><span class="token punctuation">;</span>	node3<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> node3<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>	node4<span class="token punctuation">.</span>ch <span class="token operator">=</span> <span class="token string">'D'</span><span class="token punctuation">;</span>	node4<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> node4<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>	node5<span class="token punctuation">.</span>ch <span class="token operator">=</span> <span class="token string">'E'</span><span class="token punctuation">;</span>	node5<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> node5<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	node6<span class="token punctuation">.</span>ch <span class="token operator">=</span> <span class="token string">'F'</span><span class="token punctuation">;</span>	node6<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> node6<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	node7<span class="token punctuation">.</span>ch <span class="token operator">=</span> <span class="token string">'G'</span><span class="token punctuation">;</span>	node7<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> node7<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	node8<span class="token punctuation">.</span>ch <span class="token operator">=</span> <span class="token string">'H'</span><span class="token punctuation">;</span>	node8<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> node8<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre></pre></td></tr><tr><td data-num="66"></td><td><pre>	<span class="token comment">// 建立结点关系</span></pre></td></tr><tr><td data-num="67"></td><td><pre>	node1<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token operator">&amp;</span>node2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>	node1<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token operator">&amp;</span>node6<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre></pre></td></tr><tr><td data-num="70"></td><td><pre>	node2<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>	node2<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token operator">&amp;</span>node3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre></pre></td></tr><tr><td data-num="73"></td><td><pre>	node3<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token operator">&amp;</span>node4<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>	node3<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token operator">&amp;</span>node5<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre></pre></td></tr><tr><td data-num="76"></td><td><pre>	node6<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>	node6<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token operator">&amp;</span>node7<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre></pre></td></tr><tr><td data-num="79"></td><td><pre>	node7<span class="token punctuation">.</span>lchild <span class="token operator">=</span> <span class="token operator">&amp;</span>node8<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>	node7<span class="token punctuation">.</span>rchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="81"></td><td><pre></pre></td></tr><tr><td data-num="82"></td><td><pre>	<span class="token comment">// 非递归前序遍历</span></pre></td></tr><tr><td data-num="83"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n非递归前序遍历:\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>	<span class="token function">NonRecursion01</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>node1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="85"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="86"></td><td><pre></pre></td></tr><tr><td data-num="87"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="88"></td><td><pre></pre></td></tr><tr><td data-num="89"></td><td><pre>	<span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="91"></td><td><pre>	<span class="token keyword">return</span> EXIT_SUCCESS<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="92"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="二叉树编程实践"><a class="anchor" href="#二叉树编程实践">#</a> 二叉树编程实践</h3><h4 id="案例1计算二叉树中叶子结点的数目"><a class="anchor" href="#案例1计算二叉树中叶子结点的数目">#</a> <strong>案例 1：计算二叉树中叶子结点的数目</strong></h4><p><strong>思想：</strong></p><p>l 求根结点左子树的叶子结点个数，累计到 sum 中，求根结点右子树的叶子结点个数累计到 sum 中。</p><p>l 若左子树还是树，重复步骤 1；若右子树还是树，重复步骤 1。</p><p>l <strong>全局变量转成函数参数</strong></p><p>l 可以按照先序、中序、后序方式计算叶子结点</p><p><strong>三种遍历的本质思想强化：访问结点的路径都是一样的，计算结点的时机不同。</strong></p><h4 id="案例2求二叉树的深度"><a class="anchor" href="#案例2求二叉树的深度">#</a> <strong>案例 2：求二叉树的深度</strong></h4><p><strong>思想：</strong></p><p>l 求根结点左子树高度，根结点右子树高度，比较的子树最大高度，再 + 1。</p><p>l 若左子树还是树，重复步骤 1；若右子树还是树，重复步骤 1。</p><h4 id="案例3copy二叉树"><a class="anchor" href="#案例3copy二叉树">#</a> <strong>案例 3：Copy 二叉树</strong></h4><p><strong>思想：</strong></p><p>l malloc 新结点，</p><p>l 拷贝左子树，拷贝右子树，让新结点连接左子树，右子树。</p><p>若左子树还是树，重复步骤 1、2；若右子树还是树，重复步骤 1、2。</p><h3 id="二叉树的创建"><a class="anchor" href="#二叉树的创建">#</a> 二叉树的创建</h3><div class="tags"><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" rel="tag"><i class="ic i-tag"></i> 数据结构与算法</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-12-12 20:44:56" itemprop="dateModified" datetime="2021-12-12T20:44:56+08:00">2021-12-12</time> </span><span id="2021/11/06/数据结构与算法/数据结构与算法基础/" class="item leancloud_visitors" data-flag-title="数据结构与算法基础" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="lzs 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="lzs 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>lzs <i class="ic i-at"><em>@</em></i>Sakura</li><li class="link"><strong>本文链接：</strong> <a href="https://zengshengli775.gitee.io/2021/11/06/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/" title="数据结构与算法基础">https://zengshengli775.gitee.io/2021/11/06/数据结构与算法/数据结构与算法基础/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2021/10/01/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/C++%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/" itemprop="url" rel="prev" data-background-image="http:&#x2F;&#x2F;www.dmoe.cc&#x2F;random.php?634000" title="C++核心编程"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 编程基础</span><h3>C++核心编程</h3></a></div><div class="item right"><a href="/2021/11/11/%E6%9C%9F%E6%9C%AB/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E5%BF%B5%E7%AC%94%E8%AE%B0/" itemprop="url" rel="next" data-background-image="http:&#x2F;&#x2F;www.dmoe.cc&#x2F;random.php?164203" title="操作系统概念笔记"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 期末</span><h3>操作系统概念笔记</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">1. 数据结构概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#11%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 数据结构相关概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12%E7%AE%97%E6%B3%95"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E7%89%B9%E6%80%A7"><span class="toc-number">1.2.1.</span> <span class="toc-text">算法特性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%A7o%E8%A1%A8%E7%A4%BA%E6%B3%95"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">大 O 表示法</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2%E7%BA%BF%E6%80%A7%E8%A1%A8"><span class="toc-number">2.</span> <span class="toc-text">2. 线性表</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#21%E7%BA%BF%E6%80%A7%E8%A1%A8%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 线性表基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.1.1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E5%AE%9A%E4%B9%89"><span class="toc-number">2.1.2.</span> <span class="toc-text">数学定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%A7%E8%B4%A8"><span class="toc-number">2.1.3.</span> <span class="toc-text">性质</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E8%A1%A8%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">2.1.4.</span> <span class="toc-text">线性表的操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E8%A1%A8%E7%9A%84%E6%8A%BD%E8%B1%A1%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><span class="toc-number">2.1.5.</span> <span class="toc-text">线性表的抽象数据类型定义：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#22%E7%BA%BF%E6%80%A7%E8%A1%A8%E7%9A%84%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 线性表的顺序存储</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#image-20211107204709760"><span class="toc-number">2.2.1.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E8%A1%A8%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.2.2.</span> <span class="toc-text">线性表顺序存储的设计与实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E7%82%B9%E5%92%8C%E7%BC%BA%E7%82%B9"><span class="toc-number">2.2.3.</span> <span class="toc-text">优点和缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84"><span class="toc-number">2.2.4.</span> <span class="toc-text">动态数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#01-%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84c"><span class="toc-number">2.2.4.1.</span> <span class="toc-text">01 动态数组.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dynamicarrayc"><span class="toc-number">2.2.4.2.</span> <span class="toc-text">DynamicArray.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dynamicarrayh"><span class="toc-number">2.2.4.3.</span> <span class="toc-text">DynamicArray.h</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#23%E7%BA%BF%E6%80%A7%E8%A1%A8%E7%9A%84%E9%93%BE%E5%BC%8F%E5%AD%98%E5%82%A8"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 线性表的链式存储</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-2"><span class="toc-number">2.3.1.</span> <span class="toc-text">基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E5%BC%8F%E5%AD%98%E5%82%A8%E5%AE%9A%E4%B9%89"><span class="toc-number">2.3.1.1.</span> <span class="toc-text">链式存储定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E9%93%BE%E8%A1%A8"><span class="toc-number">2.3.1.2.</span> <span class="toc-text">单链表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E8%A7%A3%E9%87%8A"><span class="toc-number">2.3.1.3.</span> <span class="toc-text">概念解释：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.3.2.</span> <span class="toc-text">设计与实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%93%8D%E4%BD%9C"><span class="toc-number">2.3.2.1.</span> <span class="toc-text">插入操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C"><span class="toc-number">2.3.2.2.</span> <span class="toc-text">删除操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%A1%A8%E6%8A%80%E6%9C%AF%E9%A2%86%E5%9F%9F%E6%8E%A8%E6%BC%94%E8%83%BD%E5%8A%9B%E6%8F%90%E9%AB%98"><span class="toc-number">2.3.3.</span> <span class="toc-text">链表技术领域推演 (能力提高)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E5%90%91%E9%93%BE%E8%A1%A8"><span class="toc-number">2.3.4.</span> <span class="toc-text">单向链表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#02-%E5%8D%95%E5%90%91%E9%93%BE%E8%A1%A8c"><span class="toc-number">2.3.4.1.</span> <span class="toc-text">02 单向链表.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linklistc"><span class="toc-number">2.3.4.2.</span> <span class="toc-text">LinkList.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linklisth"><span class="toc-number">2.3.4.3.</span> <span class="toc-text">LinkList.h</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%81%E4%B8%9A%E9%93%BE%E8%A1%A8"><span class="toc-number">2.3.5.</span> <span class="toc-text">企业链表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#03-%E4%BC%81%E4%B8%9A%E9%93%BE%E8%A1%A8"><span class="toc-number">2.3.5.1.</span> <span class="toc-text">03 企业链表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linklistc-2"><span class="toc-number">2.3.5.2.</span> <span class="toc-text">LinkList.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linklisth-2"><span class="toc-number">2.3.5.3.</span> <span class="toc-text">LinkList.h</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#24%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8"><span class="toc-number">2.4.</span> <span class="toc-text">2.4 循环链表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.4.1.</span> <span class="toc-text">循环链表基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.4.2.</span> <span class="toc-text">循环链表设计与实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0%E5%88%86%E6%9E%90"><span class="toc-number">2.4.2.1.</span> <span class="toc-text">插入元素分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%BB%93%E7%82%B9%E5%88%86%E6%9E%90"><span class="toc-number">2.4.2.2.</span> <span class="toc-text">删除结点分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8"><span class="toc-number">2.4.3.</span> <span class="toc-text">循环链表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#04%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8c"><span class="toc-number">2.4.3.1.</span> <span class="toc-text">04 循环链表.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#circlelinklistc"><span class="toc-number">2.4.3.2.</span> <span class="toc-text">CircleLinkList.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#circlelinklisth"><span class="toc-number">2.4.3.3.</span> <span class="toc-text">CircleLinkList.h</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8%E5%BA%94%E7%94%A8%E7%BA%A6%E7%91%9F%E5%A4%AB%E9%97%AE%E9%A2%98"><span class="toc-number">2.4.4.</span> <span class="toc-text">循环链表应用 (约瑟夫问题)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#05%E7%BA%A6%E7%91%9F%E5%A4%AB%E9%97%AE%E9%A2%98c"><span class="toc-number">2.4.4.1.</span> <span class="toc-text">05 约瑟夫问题.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#circlelinklisc"><span class="toc-number">2.4.4.2.</span> <span class="toc-text">CircleLinkLis.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#circlelinklish"><span class="toc-number">2.4.4.3.</span> <span class="toc-text">CircleLinkLis.h</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#25%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8"><span class="toc-number">2.5.</span> <span class="toc-text">2.5 双向链表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.5.1.</span> <span class="toc-text">双向链表基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.5.2.</span> <span class="toc-text">双向链表设计与实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%93%8D%E4%BD%9C-2"><span class="toc-number">2.5.2.1.</span> <span class="toc-text">插入操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E6%99%AE%E9%80%9A%E4%BD%8D%E7%BD%AE%E6%8F%92%E5%85%A5%E8%8A%82%E7%82%B9"><span class="toc-number">2.5.2.1.1.</span> <span class="toc-text">在普通位置插入节点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E7%A9%BA%E9%93%BE%E8%A1%A8%E4%B8%AD%E6%8F%92%E5%85%A5%E8%8A%82%E7%82%B9"><span class="toc-number">2.5.2.1.2.</span> <span class="toc-text">在空链表中插入节点</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C-2"><span class="toc-number">2.5.2.2.</span> <span class="toc-text">删除操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8"><span class="toc-number">2.5.3.</span> <span class="toc-text">双向链表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#06%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8c"><span class="toc-number">2.5.3.1.</span> <span class="toc-text">06 双向链表.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#doublelinklistc"><span class="toc-number">2.5.3.2.</span> <span class="toc-text">DoubleLinkList.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#doublelinklisth"><span class="toc-number">2.5.3.3.</span> <span class="toc-text">DoubleLinkList.h</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3%E5%8F%97%E9%99%90%E7%BA%BF%E6%80%A7%E8%A1%A8"><span class="toc-number">3.</span> <span class="toc-text">3. 受限线性表</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#31%E6%A0%88stack"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 栈 (Stack)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%88%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.1.1.</span> <span class="toc-text">栈的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">3.1.1.1.</span> <span class="toc-text">概念：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E6%80%A7"><span class="toc-number">3.1.1.2.</span> <span class="toc-text">特性:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C"><span class="toc-number">3.1.1.3.</span> <span class="toc-text">操作:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%88%E7%9A%84%E6%8A%BD%E8%B1%A1%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.1.1.4.</span> <span class="toc-text">栈的抽象数据类型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#32%E6%A0%88%E7%9A%84%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 栈的顺序存储</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-3"><span class="toc-number">3.2.1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0-2"><span class="toc-number">3.2.2.</span> <span class="toc-text">设计与实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#07%E6%A0%88%E7%9A%84%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8c"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">07 栈的顺序存储.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#seqstackc"><span class="toc-number">3.2.2.2.</span> <span class="toc-text">SeqStack.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#seqstackh"><span class="toc-number">3.2.2.3.</span> <span class="toc-text">SeqStack.h</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#33%E6%A0%88%E7%9A%84%E9%93%BE%E5%BC%8F%E5%AD%98%E5%82%A8"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 栈的链式存储</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-4"><span class="toc-number">3.3.1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0-3"><span class="toc-number">3.3.2.</span> <span class="toc-text">设计与实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#08%E6%A0%88%E7%9A%84%E9%93%BE%E5%BC%8F%E5%AD%98%E5%82%A8c"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">08 栈的链式存储.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linkstackc"><span class="toc-number">3.3.2.2.</span> <span class="toc-text">LinkStack.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linkstackh"><span class="toc-number">3.3.2.3.</span> <span class="toc-text">LinkStack.h</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#34%E6%A0%88%E7%9A%84%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B"><span class="toc-number">3.4.</span> <span class="toc-text">3.4 栈的应用 (案例)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B1-%E5%B0%B1%E8%BF%91%E5%8C%B9%E9%85%8D"><span class="toc-number">3.4.1.</span> <span class="toc-text">案例 1: 就近匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#01-%E6%A0%88%E7%9A%84%E5%BA%94%E7%94%A8_%E5%B0%B1%E8%BF%91%E5%8C%B9%E9%85%8Dc"><span class="toc-number">3.4.1.1.</span> <span class="toc-text">01 栈的应用_就近匹配.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linkstackc-2"><span class="toc-number">3.4.1.2.</span> <span class="toc-text">LinkStack.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linkstackh-2"><span class="toc-number">3.4.1.3.</span> <span class="toc-text">LinkStack.h</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B2%E4%B8%AD%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E5%90%8E%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.4.2.</span> <span class="toc-text">案例 2：中缀表达式和后缀表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%AD%E7%BC%80%E8%BD%AC%E5%90%8E%E7%BC%80%E4%BC%AA%E4%BB%A3%E7%A0%81-priority"><span class="toc-number">3.4.2.1.</span> <span class="toc-text">中缀转后缀伪代码 priority</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#02-%E4%B8%AD%E8%BD%AC%E8%A1%A8%E8%BE%BE%E6%97%B6%E8%BD%AC%E5%90%8E%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8Fc"><span class="toc-number">3.4.2.2.</span> <span class="toc-text">02 中转表达时转后缀表达式.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linkstackc-3"><span class="toc-number">3.4.2.3.</span> <span class="toc-text">LinkStack.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linkstackh-3"><span class="toc-number">3.4.2.4.</span> <span class="toc-text">LinkStack.h</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-number">3.4.3.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B3%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%A6%82%E4%BD%95%E5%9F%BA%E4%BA%8E%E5%90%8E%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AE%A1%E7%AE%97"><span class="toc-number">3.4.4.</span> <span class="toc-text">案例 3：计算机如何基于后缀表达式计算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E4%BC%AA%E4%BB%A3%E7%A0%81-express"><span class="toc-number">3.4.4.1.</span> <span class="toc-text">代码实现（伪代码） express</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#03-%E6%A0%B9%E6%8D%AE%E5%90%8E%E7%BC%80%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B1%82%E8%A7%A3c"><span class="toc-number">3.4.4.2.</span> <span class="toc-text">03 根据后缀表达式求解.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linkstackc-4"><span class="toc-number">3.4.4.3.</span> <span class="toc-text">LinkStack.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linkstackh-4"><span class="toc-number">3.4.4.4.</span> <span class="toc-text">LinkStack.h</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#35%E9%98%9F%E5%88%97queue"><span class="toc-number">3.5.</span> <span class="toc-text">3.5 队列 (Queue)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%9F%E5%88%97%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.5.1.</span> <span class="toc-text">队列基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%9F%E5%88%97%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">3.5.2.</span> <span class="toc-text">队列常用操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%9F%E5%88%97%E7%9A%84%E6%8A%BD%E8%B1%A1%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.5.3.</span> <span class="toc-text">队列的抽象数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%9F%E5%88%97%E7%9A%84%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8"><span class="toc-number">3.5.4.</span> <span class="toc-text">队列的顺序存储</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-5"><span class="toc-number">3.5.4.1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#05-%E9%98%9F%E5%88%97%E7%9A%84%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8c"><span class="toc-number">3.5.4.2.</span> <span class="toc-text">05 队列的顺序存储.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#seqqueuec"><span class="toc-number">3.5.4.3.</span> <span class="toc-text">SeqQueue.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#seqqueueh"><span class="toc-number">3.5.4.4.</span> <span class="toc-text">SeqQueue.h</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4%E6%A0%91%E5%92%8C%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-number">4.</span> <span class="toc-text">4. 树和二叉树</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#41%E6%A0%91"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%91%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">4.1.1.</span> <span class="toc-text">树的基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%91%E7%9A%84%E8%A1%A8%E7%A4%BA%E6%B3%95"><span class="toc-number">4.1.2.</span> <span class="toc-text">树的表示法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E8%A1%A8%E7%A4%BA%E6%B3%95"><span class="toc-number">4.1.2.1.</span> <span class="toc-text">图形表示法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%BF%E4%B9%89%E8%A1%A8%E8%A1%A8%E7%A4%BA%E6%B3%95"><span class="toc-number">4.1.2.2.</span> <span class="toc-text">广义表表示法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A6%E5%AD%A9%E5%AD%90%E5%8F%B3%E5%85%84%E5%BC%9F%E8%A1%A8%E7%A4%BA%E6%B3%95"><span class="toc-number">4.1.2.3.</span> <span class="toc-text">左孩子右兄弟表示法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%91%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.3.</span> <span class="toc-text">树的结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%91%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.3.1.</span> <span class="toc-text">树的逻辑结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%91%E7%9A%84%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.3.2.</span> <span class="toc-text">树的存储结构</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 二叉树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">4.2.1.</span> <span class="toc-text">二叉树基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E8%A1%A8%E7%A4%BA"><span class="toc-number">4.2.2.</span> <span class="toc-text">二叉树的表示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86"><span class="toc-number">4.2.3.</span> <span class="toc-text">二叉树的遍历</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#07-%E4%BA%8C%E5%8F%89%E6%A0%91%E9%80%92%E5%BD%92%E9%81%8D%E5%8E%86"><span class="toc-number">4.2.3.1.</span> <span class="toc-text">07 二叉树递归遍历</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#08-%E4%BA%8C%E5%8F%89%E6%A0%91%E9%9D%9E%E9%80%92%E5%BD%92%E9%81%8D%E5%8E%86"><span class="toc-number">4.2.3.2.</span> <span class="toc-text">08 二叉树非递归遍历</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E7%BC%96%E7%A8%8B%E5%AE%9E%E8%B7%B5"><span class="toc-number">4.2.4.</span> <span class="toc-text">二叉树编程实践</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B1%E8%AE%A1%E7%AE%97%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E5%8F%B6%E5%AD%90%E7%BB%93%E7%82%B9%E7%9A%84%E6%95%B0%E7%9B%AE"><span class="toc-number">4.2.4.1.</span> <span class="toc-text">案例 1：计算二叉树中叶子结点的数目</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B2%E6%B1%82%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%B7%B1%E5%BA%A6"><span class="toc-number">4.2.4.2.</span> <span class="toc-text">案例 2：求二叉树的深度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B3copy%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-number">4.2.4.3.</span> <span class="toc-text">案例 3：Copy 二叉树</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">4.2.5.</span> <span class="toc-text">二叉树的创建</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/2021/11/06/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/" rel="bookmark" title="数据结构与算法基础">数据结构与算法基础</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="lzs" data-src="/images/avatar.jpg"><p class="name" itemprop="name">lzs</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">31</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">12</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">35</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3plbmdzaGVuZ2xpNzc1" title="https:&#x2F;&#x2F;github.com&#x2F;zengshengli775"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;twitter.com&#x2F;yourname"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9senMtNDg=" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;lzs-48"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTE4ODAwNzc0NjY=" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;1880077466"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20veW91cm5hbWU=" title="https:&#x2F;&#x2F;weibo.com&#x2F;yourname"><i class="ic i-weibo"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9naXRlZS5jb20vemVuZ3NoZW5nbGk3NzUvemVuZ3NoZW5nbGk3NzU=" title="https:&#x2F;&#x2F;gitee.com&#x2F;zengshengli775&#x2F;zengshengli775"><i class="ic i-address-card"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>links</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2021/10/01/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/C++%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2021/11/11/%E6%9C%9F%E6%9C%AB/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E5%BF%B5%E7%AC%94%E8%AE%B0/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/" title="分类于 编程基础">编程基础</a></div><span><a href="/2021/08/27/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/C++%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="C++基础知识">C++基础知识</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%9C%9F%E6%9C%AB/" title="分类于 期末">期末</a></div><span><a href="/2021/11/11/%E6%9C%9F%E6%9C%AB/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E5%BF%B5%E7%AC%94%E8%AE%B0/" title="操作系统概念笔记">操作系统概念笔记</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%AF%BC%E8%88%AA/" title="分类于 导航">导航</a></div><span><a href="/2021/08/11/%E5%AF%BC%E8%88%AA/%E5%AF%BC%E8%88%AA/" title="导航">导航</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%8D%9A%E5%AE%A2/" title="分类于 博客">博客</a></div><span><a href="/2021/08/11/%E5%8D%9A%E5%AE%A2/Hexo%E5%8D%9A%E5%AE%A2%E5%86%99%E6%96%87%E7%AB%A0/" title="Hexo博客写文章">Hexo博客写文章</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/" title="分类于 编程基础">编程基础</a></div><span><a href="/2021/08/12/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="Python基础知识">Python基础知识</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/" title="分类于 编程基础">编程基础</a></div><span><a href="/2021/10/01/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/C++%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/" title="C++核心编程">C++核心编程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%A7%91%E7%A0%94/" title="分类于 科研">科研</a></div><span><a href="/2021/08/25/%E7%A7%91%E7%A0%94/%E7%A7%91%E7%A0%94%E6%96%87%E7%8C%AE%E7%BD%91%E7%AB%99/" title="科研文献网站">科研文献网站</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/" title="分类于 编程基础">编程基础</a></div><span><a href="/2022/02/18/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/%E5%AD%A6%E4%B9%A0C%E5%92%8CC++%E7%A2%B0%E5%88%B0%E7%9A%84%E7%9A%84%E7%96%91%E9%9A%BE%E7%82%B9/" title="学习C和C++碰到的的疑难点">学习C和C++碰到的的疑难点</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" title="分类于 机器学习">机器学习</a></div><span><a href="/2021/08/26/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/" title="机器学习基础">机器学习基础</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/" title="分类于 编程基础">编程基础</a></div><span><a href="/2021/08/11/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/" title="编程学习资料">编程学习资料</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">lzs @ Sakura</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">289k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">4:23</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2021/11/06/数据结构与算法/数据结构与算法基础/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->